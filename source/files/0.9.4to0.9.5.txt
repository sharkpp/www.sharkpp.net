# FROG CMS - アップデートの情報


## General ##

私たちがただ一つのバージョンアップグレードをサポートするだけであるのを意識してください。
それは、あなたが0.9.3から0.9.4までそして、0.9.5だけにアップグレードすることを意味します。

pre-0.9.4リリースからアップグレードしているなら、最初からインストールすると考えてください。

コアプラグイン以外のすべてのFrog0.9.4プラグインがFrog0.9.5と共に働くためにいくつかの小さい方の
アップデートを必要とするのを意識してください。 アップデートされたプラグインのためにプラグイン作者に
問い合わせてください。


## 0.9.4 から 0.9.5 へのアップデート ##

警告 - Frogコードのフロントエンドとバックエンドの間の分裂はこのバージョンで取り外されました。
       これは重要なコードと経路変化に通じました。

       あなたは、【すべて】のファイルをアップデートする必要があるでしょう。

忘れずにアップデートを行う前にFrogとデータベースのバックアップを行ってください。
以下で説明されたアップグレード系列は、すべての古いファイルを削除するでしょう。
フルバックアップを必ず持ってください!


## アップデート手順 ##

注意: あなたのプロダクションシステムをアップグレードさせる前に
　　  ローカル・テストシステムの上でこのアップグレードプロセスを
　　  テストを行ってください。

手順を始める前に、ステップのすべてを読み通してください。

1. データベースのフルバックアップを作成してください。 (構造とデータ)

2. 全てのファイルのフルバックアップを作成してください。 (config.phpを含む)

3. テンポラリディレクトリへ Frog 0.9.5 のダウンロードと展開

4. 一時的な0.9.5ディレクトリから以下のファイル/ディレクトリを取り外してください:
    - "public" ディレクトリ.
    - config.php ファイル.

5. 0.9.4インストールのアドミン部にログインしてください、そして、
   すべてのプラグインを無効にしてください。
   (無効にされる場合プラグインがデータベースからデータを一般に取り除くべきでないので、
    これは問題であるべきではありません。)

6. "public" ディレクトリ以外の古いFrog0.9.4インストールのすべてのファイルを取り外してください。
    (そして、どんなカスタムファイルを除いても、あなたはもちろん加えたかもしれません。)

7. 一時ディレクトリから古い0.9.4Frogインストールのディレクトリまですべてのファイルをコピーするか、
   またはアップロードしてください。

8. オリジナルのconfig.phpファイルを新しいインストールにコピーしてください。

9. 実行されて、以下のSQLは必要なら、テーブル名に接頭語を追加した後のあなたの
   Frogデータベースで以下を命令します。

    ### 注意: MYSQLコマンド、SQLiteコマンドもほとんど同じです。

    CREATE TABLE `plugin_settings` (
      `plugin_id` varchar(40) NOT NULL,
      `name` varchar(40) NOT NULL,
      `value` varchar(255) NOT NULL,
      UNIQUE KEY `plugin_setting_id` (plugin_id,name)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;

    ALTER TABLE `page`
        ADD `needs_login` tinyint(1) NOT NULL DEFAULT '0' COMMENT '' AFTER is_protected;

    ALTER TABLE `setting`
        MODIFY `value` text NOT NULL DEFAULT '' COMMENT '' COLLATE utf8_general_ci;

10. '_'を取り除くことによって、新しいhtaccessファイルを可能にしてください。

11. 古いhtaccessファイルに対して新しいhtaccessファイル設定をチェックしてください。

12. 最後に、あなたは、Frog0.9.5で加えられたconfig.phpファイルにいくつかのオプションを
    追加する必要があります:

    // FrogはFrog自身とインストールされているプラグインの更新をチェックしますか？
    define('CHECK_UPDATES', true);

    // チェックの前の問題の場合の新しいFrogバージョン回数の秒数。
    define('CHECK_TIMEOUT', 3);

13. あなたのFrogインストールが使用していたあらゆる古いプラグインを再インストールしてください。

14. その都度サイト残りの働きをチェックして、プラグインをひとつずつ再可能にしてください。

15. それはそれであるべきです! 新しいFrog0.9.5システムを徹底的に試してください。
    config.phpから書き込み許可を忘れずに取り除いてください。さもなければ、Frogは不平を言うでしょう。

## トラブルシューティング / 注意 ##

- 管理領域で古いコメントを見ないなら、コメントプラグインを無効して、次に、
  再度有効にしてみてください。

- Frog0.9.5でプラグインシステムを変えたので、Frog0.9.5と互換性があるプラグインを、
  ダウンロードして、インストールするようにしてください。
  より古いプラグインは動作するかもしれません。

- パブリックディレクトリは、現在、デフォルトインストールでテーマサブディレクトリを含みます。
  FrogのためのすべてのテーマがNormalテーマと同じアプローチに続くと忠告されます。

- それがいつもhtaccessファイルを使用するようにアドバイスされます。 
  RewriteEngineへOnかOffに設定することでURLの書き換えを有効か無効にすることが出来ます。

- このアップグレード手順が "public" のディレクトリを触れもしませんでしたし、
  アップグレードもさせなかったのを非常に意識してください。
  また、それは、データベースの少しのデータも変更もしませんでしたし、アップグレードもさせませんでした。
  これは、あなたがまだpre-0.9.5Normalテーマを使用していることを意味します。
