<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[さめたすたすのお家]]></title>
    <link href="http://www.sharkpp.net/blog/tags/Develop.xml" rel="self"/>
    <link href="http://www.sharkpp.net/"/>
    <updated>2018-02-26T16:12:38+00:00</updated>
    <id>http://www.sharkpp.net/</id>
            <author>
            <name><![CDATA[sharkpp]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[composer で github.com の API 制限を突破せよ]]></title>
            <link href="http://www.sharkpp.net/blog/2015/02/28/composer-github-api-limit-break.html"/>
            <updated>2015-02-28T23:38:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2015/02/28/composer-github-api-limit-break.html</id>
            <content type="html"><![CDATA[<p>github のレポジトリを参照している場合に composer で update 時に</p>

<pre><code>$ php composer.phar update
Loading composer repositories with package information
    Authentication required (api.github.com):         
      Username: 
      Password: 
</code></pre>

<p>の用な感じでユーザー名とパスワードを入力せよ！な状態になった場合、まあ素直に入力するのも手ですが、 token を発行して処理することも出来るようです。</p>

<h2 id="%E6%89%8B%E9%A0%86">手順</h2>

<ol>
<li><a href="https://github.com/settings/tokens">Personal access tokens</a> にアクセス</li>
<li>"Generate new token" を押下</li>
<li>"Token description" を入力</li>
<li>"Select scopes" の "repo" をチェックし "Generate token" を押下すると token が表示される</li>
<li><p>composer に教える</p>

<pre><code>$ php composer.phar config -g github-oauth.github.com {発行したtoken}
</code></pre></li>
</ol>

<p>で無事 API の制限を超えることが出来ます。</p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="https://github.com/composer/composer/issues/2439#issuecomment-33034375">Authentication required, while manual file download succeeds - Issue #2439 - composer/composer</a></li>
<li><a href="https://github.com/composer/composer/blob/master/doc/articles/troubleshooting.md#api-rate-limit-and-oauth-tokens">composer/troubleshooting.md at master - composer/composer</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Tumblr. extend shortcut key 作りました]]></title>
            <link href="http://www.sharkpp.net/blog/2014/11/23/released-tumblr-extend-shortcut-key.html"/>
            <updated>2014-11-23T17:51:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2014/11/23/released-tumblr-extend-shortcut-key.html</id>
            <content type="html"><![CDATA[<p><a href="https://www.tumblr.com/">Tumblr.</a>™のダッシュボードで使用できるショートカットキーを追加するスクリプトを作りました。</p>

<p>レポジトリは <a href="https://github.com/sharkpp-userscripts/tumblr-extend-shortcut-key">sharkpp-userscripts/tumblr-extend-shortcut-key</a> です。</p>

<p>userscripts.org がいつの間にか死んでいたので <a href="https://greasyfork.org/ja/users/5799-sharkpp">GreasyFork</a> を移転先にしてぼちぼちと再アップロードをしていきたいと思い、ユーザースクリプトの置き場を github に <a href="https://github.com/sharkpp-userscripts">sharkpp UserScripts</a> として作りました。</p>

<p>とりあえず、リハビリをかねて新しく作ったスクリプトは GreasyFork の <a href="https://greasyfork.org/ja/scripts/6588-tumblr-extend-shortcut-key">Tumblr. extend shortcut key</a> からインストールできます。</p>

<h2 id="%E6%A9%9F%E8%83%BD%E3%81%AE%E7%B4%B9%E4%BB%8B">機能の紹介</h2>

<p>機能的な部分を、、、まあ、何が出来るかってと、 <code>alt + E</code> とかをリブログのポップアップ画面時にも出来るようにとか、ブログをショートカットキーで選択できるようにとか、そんな感じです。</p>

<h3 id="%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%88%E3%82%AB%E3%83%83%E3%83%88%E3%82%AD%E3%83%BC%E3%81%AE%E4%B8%80%E8%A6%A7">ショートカットキーの一覧</h3>

<table>
<thead>
<tr>
  <th>ショートカットキー</th>
  <th>機能</th>
</tr>
</thead>
<tbody>
<tr>
  <td><tt>alt + [数字キー]</tt></td>
  <td>ブログを選択</td>
</tr>
<tr>
  <td><tt>alt + R</tt></td>
  <td>今すぐ投稿(リブログ)</td>
</tr>
<tr>
  <td><tt>alt + E</tt></td>
  <td>予約投稿に追加</td>
</tr>
<tr>
  <td><tt>alt + D</tt></td>
  <td>下書きに追加</td>
</tr>
</tbody>
</table>

<h3 id="%E3%83%96%E3%83%AD%E3%82%B0%E3%81%AE%E9%81%B8%E6%8A%9E">ブログの選択</h3>

<p>ブログが複数有る場合に <code>alt + [数字キー]</code> で、<code>[数字キー]</code> で指定したブログに切り替えることができます。</p>

<p>ブログが数字キーのどれに割り当てられているか？は、リストを表示することでショートカットキーが末尾に表示されるのため確認することが出来ます。</p>

<p><img src="/images/2014_1123_blog-select.png" alt="ブログの選択" /></p>

<h2 id="%E6%8A%95%E7%A8%BF%E6%8C%87%E7%A4%BA">投稿指示</h2>

<p>投稿指示は、「今すぐ投稿」と「予約投稿に追加」と「下書きに追加」に、それぞれショートカットキーが新たに割り当てられています。</p>

<p>ブログの選択と同じように、リストを表示することでショートカットキーの確認が出来ます。</p>

<p><img src="/images/2014_1123_reblog-button.png" alt="リブログボタン" /></p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[github.com へ SVNのレポジトリを取り込んで公開する方法]]></title>
            <link href="http://www.sharkpp.net/blog/2014/10/19/github-import-from-svn.html"/>
            <updated>2014-10-19T13:48:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2014/10/19/github-import-from-svn.html</id>
            <content type="html"><![CDATA[<p>svn のレポジトリを既存の github レポジトリに取り込む手順をメモ。 多分、既存の git に取り込むのにも使えるはず。</p>

<p>ちなみに取り込むとログに <code>git-svn-id: 〜</code> の用な感じで SVN のリポジトリパスが残るのでパスを秘密にしたい場合は諦めてファイルコピーで取り込んだ方がいいと思います。</p>

<ul>
<li>2016-02-14 git-svn-id を付与せずに clone する方法を追記</li>
</ul>

<h2 id="%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6">前提条件</h2>

<ul>
<li><code>git clone</code> したディレクトリは <code>~/hoge/</code></li>
<li><code>git checkout</code> したブランチは <code>import_from_svn_example_net</code></li>
<li>取り込みたい SVN レポジトリは <code>http://svn.example.net/path/to/svn/repos/</code></li>
<li>作業用の git レポジトリは <code>tmp</code></li>
</ul>

<h2 id="%E6%BA%96%E5%82%99">準備</h2>

<ol>
<li>github.com からレポジトリを <code>git clone</code> する</li>
<li>ブランチを作り <code>git checkout</code> する <strong>重要</strong></li>
</ol>

<p>ブランチは、</p>

<pre><code>$ git checkout -b import_from_svn_example_net
</code></pre>

<p>みたいな感じで作る</p>

<h2 id="%E6%89%8B%E9%A0%86">手順</h2>

<pre><code>$ cd ~
$ git svn clone http://svn.example.net/path/to/svn/repos/ tmp
$ cd ~/hoge/
$ git pull ~/tmp
$ cd ~
$ rm -rf tmp
</code></pre>

<p>でターミナルでの作業は終了。 あとは githubクライアントで sync するなどして github に push すれば終了です。</p>

<h2 id="git-svn-id-%E3%82%92%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%84%E5%A0%B4%E5%90%88">git-svn-id を削除したい場合</h2>

<p>git-svn-id を削除したい場合は</p>

<pre><code class="bash">$ git svn clone http://svn.example.net/path/to/svn/repos/ --no-metadata tmp
</code></pre>

<p>とすると良いようです。</p>

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr"><a href="https://twitter.com/sharkpp">@sharkpp</a> ところでsvnのリポジトリをもう使わわずgit-svn-idがいらないのでしたら、git svn clone --no-metadataが使えるはずです。 <a href="http://t.co/FRKHmnEj6z">http://t.co/FRKHmnEj6z</a> <a href="http://t.co/ZWGezekJls">http://t.co/ZWGezekJls</a></p>&mdash; zakki (@k_matsuzaki) <a href="https://twitter.com/k_matsuzaki/status/532728589444063232">2014, 11月 13</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://qiita.com/hidekuro/items/4727715fbda8f10b6b11">git-svnでSVN→Gitへの移行をやってみたログ - Qiita</a></li>
<li><a href="http://git-scm.com/book/ja/Git%E3%81%A8%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%AE%E9%80%A3%E6%90%BA-Git-%E3%81%A8-Subversion#はじめましょう">Git - Git と Subversion</a></li>
<li><a href="http://www.backlog.jp/git-guide/reference/remote.html#sec7">リモート操作 | 逆引きGit | サルでもわかるGit入門 〜バージョン管理を使いこなそう〜 | どこでもプロジェクト管理バックログ</a></li>
<li><a href="http://git-scm.com/book/ja/v1/Git%E3%81%A8%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%AE%E9%80%A3%E6%90%BA-Git-%E3%81%B8%E3%81%AE%E7%A7%BB%E8%A1%8C">Git - Git への移行</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[OAuth 認証を提供しているサービスをまとめてみました]]></title>
            <link href="http://www.sharkpp.net/blog/2014/03/30/oauth-providers-list.html"/>
            <updated>2014-03-30T23:35:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2014/03/30/oauth-providers-list.html</id>
            <content type="html"><![CDATA[<p>OAuth 認証を提供しているサービスをまとめてみました。</p>

<p>どちらかというと Opauth で使えそうなサービス一覧、が正しいのかもしれません。</p>

<p>ついでに、ステータスやアプリケーションの登録を行うためのサイトも全てではないですが調べてあります。</p>

<p>一覧は <a href="http://opauth.org/">Opauth - Multi-provider authentication framework for PHP</a> や <a href="https://packagist.org/packages/opauth/">Packagist</a> などを参考にしています。</p>

<table><tr>
<th align="center">
Opauth
</th>
<th align="left">
プロバイダ
</th>
<th align="center">
OAuth
</th>
<th align="left">
開発サイト(アプリ登録など)
</th>
<th align="left">
ステータスの確認ページ
</th>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/asana">○</a>
</td>
<td align="left">
<a href="https://asana.com/">Asana</a>
</td>
<td align="center">
<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-31">2.0 draft 31</a>
</td>
<td align="left">
<a href="http://developer.asana.com/documentation/#AsanaConnect">API Documentation at Asana Developers</a>
</td>
<td align="left">
<a href="https://asana.com/status">Asana - Status</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/bitbucket">○</a>
</td>
<td align="left">
<a href="https://bitbucket.org/">Bitbucket</a>
</td>
<td align="center">
1.0a
</td>
<td align="left">
<a href="https://confluence.atlassian.com/display/BITBUCKET/OAuth+on+Bitbucket">Atlassian Documentation</a>
</td>
<td align="left">
<a href="http://status.bitbucket.org/">Atlassian Bitbucket Status</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://github.com/rasa/opauth-disqus">○</a>
</td>
<td align="left">
<a href="http://disqus.com/">Disqus</a>
</td>
<td align="center">
<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-30">2.0 draft 30</a>
</td>
<td align="left">
<a href="http://disqus.com/api/docs/auth/">Authentication - API - Disqus</a>
</td>
<td align="left">
<a href="http://status.disqus.com/">Disqus Status</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://github.com/arbales/opauth-do">○</a>
</td>
<td align="left">
<a href="http://www.do.com/">Do</a>
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/evernote">○</a>
</td>
<td align="left">
<a href="http://evernote.com/">Evernote</a>
</td>
<td align="center">
1.0a
</td>
<td align="left">
<a href="http://dev.evernote.com/intl/jp/appcenter/">Evernote Developers</a>
</td>
<td align="left">
<a href="http://status.evernote.com/">Evernote Status | Evernote Corporation</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/facebook">○</a>
</td>
<td align="left">
<a href="https://www.facebook.com/">Facebook</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://developers.facebook.com/apps/">Apps - Facebook Developers</a>
</td>
<td align="left">
<a href="https://developers.facebook.com/status/">プラットフォームの現在の状態</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/flickr">○</a>
</td>
<td align="left">
<a href="https://www.flickr.com/">Flickr</a>
</td>
<td align="center">
1.0a
</td>
<td align="left">
<a href="http://www.flickr.com/services/api/auth.oauth.html">Flickr Services</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/frype">○</a>
</td>
<td align="left">
<a href="http://www.frype.com/">Frype</a>
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/foursquare">○</a>
</td>
<td align="left">
<a href="https://ja.foursquare.com/?">Foursquare</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="https://developer.foursquare.com/overview/auth#registration">foursquare for Developers</a>
</td>
<td align="left">
<a href="http://status.foursquare.com/">Foursquare Status</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/github">○</a>
</td>
<td align="left">
<a href="https://github.com/">GitHub</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="https://github.com/settings/applications/new">New OAuth Application</a>
</td>
<td align="left">
<a href="https://status.github.com/">GitHub System Status</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/google">○</a>
</td>
<td align="left">
<a href="https://www.google.com/">Google</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://console.developers.google.com/">Google Cloud Console</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
×
</td>
<td align="left">
<a href="http://gree.jp/">GREE</a>
</td>
<td align="center">
1.0
</td>
<td align="left">
<a href="https://docs.developer.gree.net/ja/globaltechnicalspecs/oauth">GREE Developer Center</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/instagram">○</a>
</td>
<td align="left">
<a href="http://instagram.com/">Instagram</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="http://instagram.com/developer/register/">Instagram開発者ドキュメント</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/linkedin">○</a>
</td>
<td align="left">
<a href="https://www.linkedin.com/">LinkedIn</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://www.linkedin.com/secure/developer">LinkedIn Developer Network</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/live">○</a>
</td>
<td align="left">
<a href="https://www.live.com">Windows Live</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://account.live.com/developers/applications">Live</a>
</td>
<td align="left">
<a href="https://status.live.com">Service Status - Microsoft services</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/mailru">○</a>
</td>
<td align="left">
<a href="http://mail.ru/">Mail.Ru</a>
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/meetup">○</a>
</td>
<td align="left">
<a href="http://www.meetup.com/">Meetup</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://secure.meetup.com/meetup_api/oauth_consumers/create">Your OAuth Consumers - Meetup</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/mixi">○</a>
</td>
<td align="left">
<a href="https://mixi.jp/">mixi</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://sap.mixi.jp/home.pl">mixi</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/openid">○</a>
</td>
<td align="left">
OpenID
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/paypal">○</a>
</td>
<td align="left">
<a href="https://www.paypal.com/">PayPal</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="https://developer.paypal.com/webapps/developer/applications">PayPal Developer</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/probook">○</a>
</td>
<td align="left">
<a href="http://probook.bg/">Probook</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
×
</td>
<td align="left">
<a href="https://www.tumblr.com/">Tumblr</a>
</td>
<td align="center">
1.0a
</td>
<td align="left">
<a href="https://www.tumblr.com/oauth/apps">Tumblr</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/sinaweibo">○</a>
</td>
<td align="left">
<a href="http://weibo.com/">Sina Weibo (新浪微博)</a>
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/thecity">○</a>
</td>
<td align="left">
<a href="http://www.onthecity.org/">The City</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://api.onthecity.org/docs/apps">The City - API Docs</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/twitter">○</a>
</td>
<td align="left">
<a href="https://twitter.com/">Twitter</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://dev.twitter.com/">Twitter Developers</a>
</td>
<td align="left">
<a href="https://dev.twitter.com/status">API Status | Twitter Developers</a>
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/vkontakte">○</a>
</td>
<td align="left">
<a href="https://vk.com/">VKontakte</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="http://vk.com/developers.php">Developers｜VK</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
×
</td>
<td align="left">
<a href="https://www.yahoo.com">Yahoo</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="http://developer.yahoo.com/oauth/">Yahoo! Developer Network</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/yahoojp">○</a>
</td>
<td align="left">
<a href="http://www.yahoo.co.jp/">Yahoo! Japan</a>
</td>
<td align="center">
2.0
</td>
<td align="left">
<a href="https://e.developer.yahoo.co.jp/dashboard/">アプリケーションの管理</a>
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
<a href="https://packagist.org/packages/opauth/yandex">○</a>
</td>
<td align="left">
<a href="http://www.yandex.ru/">yandex</a>
</td>
<td align="center">
</td>
<td align="left">
</td>
<td align="left">
</td>
</tr>
<tr>
<td align="center">
×
</td>
<td align="left">
<a href="http://www.hatena.ne.jp/">はてな</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="http://developer.hatena.ne.jp/ja/documents/auth/apis/oauth/consumer">Hatena Developer Center</a>
</td>
<td align="left">
なし
</td>
</tr>
<tr>
<td align="center">
×
</td>
<td align="left">
<a href="http://www.rakuten.co.jp/">楽天</a>
</td>
<td align="center">
</td>
<td align="left">
<a href="https://webservice.rakuten.co.jp/document/oauth">楽天ウェブサービス(RAKUTEN WEBSERVICE)</a>
</td>
<td align="left">
<a href="https://webservice.rakuten.co.jp/status">楽天ウェブサービス: APIモニター</a>
</td>
</tr>
</table>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[phpでオブジェクトの継承元のメソッドを別のクラスから呼び出す方法]]></title>
            <link href="http://www.sharkpp.net/blog/2013/11/24/call-parent-class-method-by-other-class-in-php.html"/>
            <updated>2013-11-24T13:40:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2013/11/24/call-parent-class-method-by-other-class-in-php.html</id>
            <content type="html"><![CDATA[<p>phpで実装上どうしてもタイトルのような事をしないといけなかったのでその方法のメモ。 そもそもの話、実装がまずいって事のような気がすご???くするんだけど、それは置いておこう。</p>

<h2 id="%E5%89%8D%E6%8F%90">前提</h2>

<blockquote class="twitter-tweet" lang="ja"><p>ふーむ？ クラスBはクラスAから派生しててクラスBはクラスCを持っているとして、クラスBメソッド→クラスCメソッド→クラスBのインスタンスでクラスAメソッドを呼ぶってPHPだとできないよねーきっと <a href="https://twitter.com/search?q=%23php&src=hash">#php</a></p>&mdash; サカサマのさめたすたす (@sharkpp) <a href="https://twitter.com/sharkpp/statuses/403886288173932544">2013, 11月 22</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>順に挙げると、</p>

<ol>
<li>クラスA と クラスB と クラスC があります。</li>
<li>クラスB は クラスA を継承しています。</li>
<li>クラスC は クラスA および クラスB とは関連がありません。</li>
<li>この時、クラスC から クラスB のオブジェクトインスタンスを使い、クラスA のメソッドを呼び出すにはどうしたらよいだろうか？</li>
<li>ただし、呼び出すメソッドは クラスB ですでにオーバーライドされていることする。</li>
</ol>

<p>とりあえず、前提はこんな感じ。</p>

<p>ソースを載せると↓な感じ。</p>

<pre><code>&lt;?php
class C {
    private $a;
    function __construct($owner) { $this-&gt;a = $owner; }
    public function test($v) {
        // ここで $this-&gt;a を使い A::test を呼び出したい！
    }
}
class A {
    public function test($v) { return '!' . $v; }
}
class B extends A {
    private $c;
    function __construct()   { $this-&gt;c = new C($this); }
    public function test($v) { return $this-&gt;c-&gt;test($v); }
}
$b = new B;
echo $b-&gt;test('test') . "\n";
</code></pre>

<p>つまり、 クラスB::test() → クラスC::test() → クラスA::test() って感じで呼び出したい。</p>

<h2 id="%E8%A9%A6%E8%A1%8C">試行</h2>

<p>色々ググってみる。</p>

<p>リフレクション使ったりとか、 <code>(array)$hoge</code> したりで <code>private</code> な、メンバ変数が取得出来たりとかアレなことをしていたりしてみた。</p>

<p>けど、ふと <code>public</code> なメソッドなら <code>call_user_func()</code> で呼び出せるんだから、クラス名付ければ呼び出せないか？と気が付いた。</p>

<p>やってみたら、すんなり行ってしまった。</p>

<h2 id="%E8%A7%A3%E6%B1%BA">解決</h2>

<blockquote class="twitter-tweet" lang="ja"><p>ふむふむ、call_user_func 使えば あるオブジェクトの親クラスを呼び出すことができるのか <a href="https://t.co/JSy3AsWVqT">https://t.co/JSy3AsWVqT</a> <a href="https://twitter.com/search?q=%23php&src=hash">#php</a></p>&mdash; サカサマのさめたすたす (@sharkpp) <a href="https://twitter.com/sharkpp/statuses/403901924862218240">2013, 11月 22</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>該当部分だけ抜き出すと、</p>

<pre><code>public function test($v) { // C::test()
    return call_user_func(array($this-&gt;a, 'A::test'), $v);
}
</code></pre>

<p>って感じ。</p>

<p>クラス名は、 <code>get_parent_class()</code> で取得してもいいかもしれない。</p>

<p>完全なソースは <a href="https://gist.github.com/sharkpp/7601323#file-gistfile1-php">あるオブジェクトの親クラス(派生元クラス)のメソッドを外部から呼び出す - GitHub Gist</a> に置きました。</p>

<p>実は、<a href="http://www.php.net/manual/ja/function.call-user-func.php">PHP: call&#95;user&#95;func - Manual</a>の<a href="http://www.php.net/manual/ja/function.call-user-func.php#106391">このあたり</a>にもさりげなく匂わせる感じでは書いてあったりしたけど、、、見落としていた。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[FuelPHP 日本語言語パッケージ 作ってみたよ]]></title>
            <link href="http://www.sharkpp.net/blog/2013/04/27/fuel-language-pack-ja.html"/>
            <updated>2013-04-27T00:36:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2013/04/27/fuel-language-pack-ja.html</id>
            <content type="html"><![CDATA[<p>FuelPHPのパッケージも３つ目となりました、ValidationクラスやDateクラスなどの英語のメッセージを日本語で表示してくれるパッケージを作ってみました。</p>

<p><a href="https://github.com/sharkpp/fuel-language-pack-ja">sharkpp/fuel-language-pack-ja - GitHub</a></p>

<p>インストールは普通のパッケージと同じで下記のように難しいことは何もないです。</p>

<ol>
<li><code>PKGPATH</code> に展開(<a href="http://fuelphp.com/docs/general/packages.html">Packages - General - FuelPHP Documentation</a>を参照)</li>
<li><code>APPPATH/config/config.php</code> の <code>'always_load' =&gt; array('packages' =&gt; array())</code> にパッケージを追加</li>
<li><code>APPPATH/config/config.php</code> の言語を日本語に変更。 <code>'language'</code> に <code>'ja'</code> を指定。</li>
</ol>

<p>とりあえず、それなりに動いてそうだけど、実は間違ったことやってる、とかだといやだなー。</p>

<p>まあ、何にせよ、パッケージの追加だけでメッセージが日本語になるのはいい感じです。</p>

<p>実際訳してみたけど、そもそもの対象となる英文の内で多言語での表示に対応している部分が少ないのでなんかいまいちな感じです。 若干、意訳っぽくなってたり、訳が間違ってたりしてるかもですが、こっちの訳のほうがいいよとか、あればForkするなりIssueに登録するなりしてみてください。</p>

<p>本当はスクリーンショットをつけたほうがいいんだけれど良い例が手元にないので乗せられないのです(´･ω･&#96;)</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[OUIを検索するFuelPHP用のパッケージを作ったよ]]></title>
            <link href="http://www.sharkpp.net/blog/2013/03/11/release-ouisearch-fuelphp.html"/>
            <updated>2013-03-11T01:57:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2013/03/11/release-ouisearch-fuelphp.html</id>
            <content type="html"><![CDATA[<p>OUIを検索するFuelPHP用のパッケージを作ったよってことで、、、誰得なんでしょうか？</p>

<p>何が出来るかというと、<a href="http://standards.ieee.org/develop/regauth/oui/public.html">IEEE-SA - Registration Authority OUI Public Listing</a>で 公開されているOUI(Organizationally Unique Identifier)のリストを使いOUIから組織名の取得、あるいは、その逆を行います。</p>

<p>ソース→<a href="https://github.com/sharkpp/fuel-ouisearch">sharkpp/fuel-ouisearch - GitHub</a> Travis CI→<a href="https://travis-ci.org/sharkpp/fuel-ouisearch">fuel-ouisearch</a> <a href="https://travis-ci.org/sharkpp/fuel-ouisearch"><img src="https://travis-ci.org/sharkpp/fuel-ouisearch.png?branch=master" alt="Build Status" /></a></p>

<p>まあ、誰得かは置いておいて、今回は、</p>

<ul>
<li>単体テストを実装</li>
<li>プラグインでタスクを実装</li>
<li>プラグインでマイグレーションを実装</li>
<li><a href="https://travis-ci.org/">Travis CI</a>使ってみたよ</li>
</ul>

<p>の、４本です。</p>

<p>パッケージは誰得だとしても、その過程は有用だ！と信じたい、、、、</p>

<h2 id="%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A3%85">単体テストを実装</h2>

<p>今回のパッケージはサンプル作るのもあれなのでテストで代用って側面もありテスト書きながら実装していきました。</p>

<p>テストカバレッジレポートとか見ながら作るとなんだか楽しいです。</p>

<h3 id="%E5%8F%82%E8%80%83%E3%83%9A%E3%83%BC%E3%82%B8">参考ページ</h3>

<ul>
<li><a href="http://d.hatena.ne.jp/Kenji_s/20111110/1320922825">FuelPHP での PHPUnit によるユニットテスト - A Day in Serenity @ kenjis</a></li>
<li><a href="http://ounziw.com/2012/12/06/phpunit/">ユニットテストのすすめ</a></li>
<li><a href="http://www.phpunit.de/manual/3.8/ja/index.html">PHPUnit Manual</a></li>
</ul>

<h3 id="xdebug%E3%81%8C%E3%81%AA%E3%81%84%E3%81%A8%E3%83%86%E3%82%B9%E3%83%88%E3%82%AB%E3%83%90%E3%83%AC%E3%83%83%E3%82%B8%E3%83%AC%E3%83%9D%E3%83%BC%E3%83%88%E3%81%8C%E4%BD%9C%E6%88%90%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84">XDebugがないとテストカバレッジレポートが作成できない</h3>

<p>あ、テストカバレッジレポートを出力するにはXDebugが必要っぽいです。 インストールされていなかったので <strong>"The Xdebug extension is not loaded. No code coverage will be generated."</strong> って怒られちゃいました。</p>

<p>テストカバレッジレポートをHTMLで出力する場合はファイルパスの指定ではなくディレクトリの指定になります。</p>

<pre><code>php oil t --coverage-html=coverage
</code></pre>

<p>見たいな感じ。 HTML出力のみディレクトリ指定なので間違えないようにしませう。</p>

<h2 id="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%A7%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%AE%9F%E8%A3%85">プラグインでタスクを実装</h2>

<p>これは、そんなに大変ではなかった、というか、以前に同じようなことをしていて簡単だった。</p>

<p>しいて言えば、最初はORMパッケージを使う実装にしていて色々やっていたけど、 よく考えると他のパッケージに依存するほどでもないのでそのあたりをばっさり削除して作り直しています。</p>

<p>より詳しく書くと、ORMで設定からテーブル名を指定しようとしていたけど、設定をテーブル名に反映するタイミングが 最初は見つからず右往左往していたけど、結局は<a href="http://fuelphp.com/docs/general/classes.html">Classes - General - FuelPHP Documentation</a>に書いてあった。</p>

<blockquote class="twitter-tweet" data-conversation="none" lang="ja"><p>@<a href="https://twitter.com/sharkpp">sharkpp</a> 必要としているタイミングはクラスのロード時ですか？であるなら、_init()が呼ばれます。<a href="http://t.co/PSGMSXIzTH" title="http://fuelphp.com/docs/general/classes.html#/init_method">fuelphp.com/docs/general/c…</a></p>&mdash; Shintaro Ikezakiさん (@hackoh) <a href="https://twitter.com/hackoh/status/310210084334612480">2013年3月9日</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h2 id="%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%A7%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E5%AE%9F%E8%A3%85">プラグインでマイグレーションを実装</h2>

<p>これが以外と難儀だった。 ソースを追うと、パッケージやモジュールに対してもマイグレーション処理が 動作するっぽかったので意気揚々と実装していったのだけれども、、、</p>

<h3 id="%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%97%E3%81%AA%E3%81%84%E3%81%A8%E5%8B%95%E4%BD%9C%E3%81%97%E3%81%AA%E3%81%84">設定をしないと動作しない</h3>

<p>パッケージを app/config/config.php の always_load.packages に登録する必要はもちろんあるのだけれど、それだけではだめでした。 package_paths に PKGPATH を追加しないとやっぱり動作しない。 これはなんかバグくさい気がする。</p>

<h3 id="%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E6%89%93%E3%81%A3%E3%81%A6%E3%82%82%E5%8F%8D%E5%BF%9C%E3%81%97%E3%81%AA%E3%81%84">コマンド打っても反応しない</h3>

<pre><code>php oil r migrate
</code></pre>

<p>と単純にコマンドを打っても反応しない！ で、ソースを追っていったら、何もしないとパッケージなどはマイグレーションの対象外になる模様。 なので、</p>

<pre><code>php oil r migrate --all
</code></pre>

<p>などとやるのが正解。</p>

<h2 id="travis-ci-%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%E3%82%88">Travis CI 使ってみたよ</h2>

<p>簡単、CIサービス <a href="https://travis-ci.org/">Travis CI</a> を使ってみました。</p>

<h3 id="%E5%8F%82%E8%80%83%E3%83%9A%E3%83%BC%E3%82%B8">参考ページ</h3>

<ul>
<li><a href="http://madroom-project.blogspot.jp/2013/01/fuelphptravis-ci.html">madroom project: FuelPHPのユニットテストをTravis CIで実行してみる</a></li>
<li><a href="http://madroom-project.blogspot.jp/2013/01/fuelphptravis.html">madroom project: FuelPHPのマイグレーションをTravis CIで実行する</a></li>
<li><a href="https://github.com/codenitive/laravel-oneauth/blob/master/.travis.yml">laravel-oneauth/.travis.yml at master - codenitive/laravel-oneauth - GitHub</a></li>
<li><a href="https://github.com/fuelphp/fuelphp/blob/develop/.travis.yml">fuelphp/.travis.yml at develop - fuelphp/fuelphp - GitHub</a></li>
</ul>

<h3 id="%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%98%98%E4%BB%98%E3%81%8B%E3%82%8C%E3%81%9F%C2%B4%EF%BD%A5%CF%89%EF%BD%A5%60">ドキュメントに嘘付かれた(´･ω･`)</h3>

<p><a href="http://about.travis-ci.org/docs/user/build-configuration/#Build-Lifecycle">Build Lifecycle</a>は間違っているっぽいです。 before_install の後で clone したディレクトリに移動するって書いてありますが、cloneした直後に移動していました。 途中で仕様が変わったんでしょうか？</p>

<h3 id="%E3%81%AA%E3%82%93%E3%81%A0%E3%81%8B%E3%82%93%E3%81%A0%E3%81%A7%E5%87%BA%E6%9D%A5%E3%81%9F">なんだかんだで出来た</h3>

<blockquote class="twitter-tweet" lang="ja"><p>@<a href="https://twitter.com/sharkpp">sharkpp</a> パッケージテスト用のFuelPHPプロジェクトをGitHubに用意。パッケージはサブモジュールで管理。とかは比較的簡単かもしれませんね。そのパッケージプロジェクトへのpushではtravis ciが走らない。1プロジェクトで複数パッケージを管理。になりますけど。</p>&mdash; mamorさん (@madmamor) <a href="https://twitter.com/madmamor/status/310629656120397824">2013年3月10日</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>という、アイデアを頂きつつ、やっぱり単体でテストできるのがかっこいいので頑張りました。</p>

<p><a href="/images/2013_0311_ouisearch_travisci.png"><img src="/images/2013_0311_ouisearch_travisci_s.png" alt="Travis CI" /></a></p>

<p>最終的に完成した .travis.yml は、<a href="https://github.com/sharkpp/fuel-ouisearch/blob/master/.travis.yml">fuel-ouisearch/.travis.yml at master - sharkpp/fuel-ouisearch - GitHub</a> です。 中身はたいしたことをやっていなくて</p>

<ol>
<li>git clone で FuelPHP を取得</li>
<li>packages にリンクを張る</li>
<li>設定を上書き</li>
<li>MySQLにデーターベースを作成(user:root pass:なし)</li>
<li>テスト実行</li>
</ol>

<p>ってことをつらつらと書いているだけです。</p>

<p>とりあえず、Travis CI のテンプレが出来たのはいい感じです。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[ANSI Escape Sequences Emulator作ったよ]]></title>
            <link href="http://www.sharkpp.net/blog/2013/03/10/aese-command.html"/>
            <updated>2013-03-10T00:30:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2013/03/10/aese-command.html</id>
            <content type="html"><![CDATA[<p>ふと思いついて、ANSIエスケープシーケンスエミュレータなるものを作ってみました。</p>

<p>ソースは <a href="https://github.com/sharkpp/AnsiEscapeSequencesEmulator">sharkpp/AnsiEscapeSequencesEmulator - GitHub</a> に公開してあります。</p>

<p>バイナリも出来ます→<a href="/files/aese_20130310_r2402.zip">ダウンロード</a></p>

<p>まずは、百聞は一見にしかずです。</p>

<p>↓が、</p>

<p><a href="/images/2013_0310_aese_before.png"><img src="/images/2013_0310_aese_before_s.png" alt="aese適用前" /></a></p>

<p>↓になります。</p>

<p><a href="/images/2013_0310_aese_after.png"><img src="/images/2013_0310_aese_after_s.png" alt="aese適用後" /></a></p>

<p>いやほんと、ぱっと思いついてさくっと作った割にはうまく動いてくれていい感じです。</p>

<p>以下、README からです。</p>

<h2 id="%E4%BD%95%E3%81%8C%E5%87%BA%E6%9D%A5%E3%82%8B%EF%BC%9F">何が出来る？</h2>

<p>Windows 標準のターミナル、いわゆる、「コマンドプロンプト」は、 ANSI エスケープシーケンスをサポートしていません。</p>

<p>aese コマンドは Windows API でANSIエスケープシーケンスを再現します。</p>

<p>下記の機能を実装しています。</p>

<ol>
<li>標準出力を受け取りエスケープシーケンスを取り除く</li>
<li>文字属性の再現(部分的)</li>
<li>カーソルの移動の再現(未実装)</li>
</ol>

<h2 id="%E4%BD%BF%E3%81%84%E6%96%B9">使い方</h2>

<pre><code class="bash">&gt; echo ^[[43maaa^[[0m|aese
</code></pre>

<p><code>^[</code> は <code>CTRL + [</code> と入力します。コードは <code>0x1B</code> です。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Tumbdash公開]]></title>
            <link href="http://www.sharkpp.net/blog/2012/10/16/tumbdash.html"/>
            <updated>2012-10-16T00:54:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2012/10/16/tumbdash.html</id>
            <content type="html"><![CDATA[<p>Android用のダッシュボード専用TumblrクライアントのTumbdashを公開しました。 初めてのAndroidアプリは、ゲームとかではなくやっぱりツール系になってしまいました(´･ω･&#96;)</p>

<p><a href="http://play.google.com/store/apps/details?id=net.sharkpp.Tumbdash"><img src="http://developer.android.com/images/brand/en_app_rgb_wo_45.png" alt="Android app on Google Play" /></a></p>

<p>直近で Titanium Mobile でごにょごにょやっていたのはこれです。 とりあえず、色々要望も出てきているのでぼちぼち対応はしてきたいなーと思います。</p>

<p>初回のバージョンアップでやらかしてしまったりしていますが強く生きますorz</p>

<ul>
<li><a href="http://tumbdash.tumblr.com/">Tumbdash official blog</a></li>
<li><a href="https://twitter.com/Tumbdash">@Tumbdash</a></li>
</ul>

<p>などで、最新情報を流しています。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Titanium Mobileのメモ(その１)]]></title>
            <link href="http://www.sharkpp.net/blog/2012/09/30/titanium-mobile-memo-1.html"/>
            <updated>2012-09-30T23:05:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2012/09/30/titanium-mobile-memo-1.html</id>
            <content type="html"><![CDATA[<p>とある理由で急遽Androidのアプリを作る必要に迫られ前から興味があっTItanium Mobileに手を出した次第。</p>

<p>作る過程で調べたことを色々メモ。</p>

<ul>
<li>Android/iOS で修正無しに移植できるわけじゃない模様、そんなのがやりたければPhoneGapを使えばいいよってことのようだ。</li>
<li>iOSで使えてAndroidで使えないUIの部品やその逆が結構ある</li>
<li>.jss (.jsの.css的なもの)は腐ってる</li>
<li>プロパティーに指定できる値とかはリファレンスを見よう <a href="http://docs.appcelerator.com/titanium/2.1/index.html">Appcelerator Titanium Mobile</a></li>
<li>Ti.UI.createLabel() のオプションに em などを単位として使うとエラーになる、そしていきなり落ちる。</li>
<li>Ti.App.Properties.setInt() と Ti.UI.Android.openPreferences() はあわせて使えない、設定画面では文字列のみが扱える。で使うとエラーになりやっぱりいきなり落ちる。</li>
<li>Androidでは、Ti.UI.Button などの上に 別のオブジェクトを重ねられない。</li>
</ul>

<p>などなど、とりあえずざっと覚えているのはこんな感じ。</p>
]]></content>
        </entry>
    </feed>