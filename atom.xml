<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[さめたすたすのお家]]></title>
    <link href="http://www.sharkpp.net/atom.xml" rel="self"/>
    <link href="http://www.sharkpp.net/"/>
    <updated>2019-01-19T08:48:04+00:00</updated>
    <id>http://www.sharkpp.net/</id>
            <author>
            <name><![CDATA[sharkpp]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[名古屋Qt勉強会#24 に参加しました]]></title>
            <link href="http://www.sharkpp.net/blog/2019/01/20/qt-nagoya-24.html"/>
            <updated>2019-01-20T17:30:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2019/01/20/qt-nagoya-24.html</id>
            <content type="html"><![CDATA[<p>1月20日(土) に開催された <a href="https://qt-users.connpass.com/event/113801/">Qt 勉強会 @ Nagoya #24 - connpass</a> に久しぶりに参加しました。</p>

<p>そのまとめです。</p>

<p><img src="/images/20180825_qauthwith1.png" alt="成果" /></p>

<h2 id="%E6%9C%AC%E6%97%A5%E3%81%AE%E7%9F%A5%E8%A6%8B">本日の知見</h2>

<h3 id="listview-%E3%81%AE%E8%83%8C%E6%99%AF%E3%81%AE%E3%83%9E%E3%82%A6%E3%82%B9%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E9%80%8F%E9%81%8E">ListView の背景のマウスイベントを透過</h3>

<p>ListView の背景のマウスイベントを透過する方法。
結構、実現するのに時間がかかったけど、結局はプロパティを一つ変えるだけだった。</p>

<p>まず Qt Quick の <a href="http://doc.qt.io/qt-5/qml-qtquick-listview.html">ListView</a> は次のような派生で実装されています。</p>

<pre><code>QtObject
  +- Item
       +- Flickable
            +- ListView
</code></pre>

<p>それでもって ListView の背景を透明にしても、その下にあるコンポーネントに対しては、マウスのホバー以外のクリックやホイール操作は渡されない。</p>

<p>結局のところ色々調べたところ、 <a href="http://doc.qt.io/qt-5/qml-qtquick-flickable.html">Flickable</a> がフリック操作を検知するためにマウスのイベントを処理している様子。</p>

<p>なので、答えは</p>

<pre><code>    ListView {
        interactive: false
    }
</code></pre>

<p>と、 <code>interactive</code> プロパティを <code>false</code> にすれば良いようです。</p>

<p>ちなみに、この設定を変更すると当然のことながらフリック動作が聞かなくなります。</p>

<h2 id="%E3%83%A9%E3%83%A0%E3%83%80%E5%BC%8F">ラムダ式</h2>

<p>スコープに注意！</p>

<p>コンストラクタでラムダ式を引数に渡してメソッドを呼び出したら（実際の実行は遅延される）スコープ抜けた途端に破棄されていた。</p>

<p>メンバ変数に代入して生存の時間を伸ばして解決。</p>

<h2 id="%E6%87%87%E8%A6%AA%E4%BC%9A">懇親会</h2>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://doc.qt.io/qt-5/qml-qtquick-flickable.html#interactive-prop">Flickable QML Type | Qt Quick 5.12</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[HAPPY NEW YEAR 2019]]></title>
            <link href="http://www.sharkpp.net/blog/2019/01/01/happy-new-year-2019.html"/>
            <updated>2019-01-01T09:45:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2019/01/01/happy-new-year-2019.html</id>
            <content type="html"><![CDATA[<p>明けましておめでとうございます。</p>

<p>ほむぺ開設 15 年目🎉 (たぶん)。
今年も一年よろしくお願いします。</p>

<p>では、今年の目標をば。</p>

<h2 id="%E7%9B%AE%E6%A8%99">目標</h2>

<ul>
<li>定期的なホムペの更新</li>
</ul>

<h3 id="hsp%E9%96%A2%E9%80%A3">HSP関連</h3>

<ul>
<li>HSPコンテスト作品の製作！</li>
<li><a href="http://hsp-users.jp/">HSP関連サイト</a>の定期的な更新。</li>
<li>WINEの最新版でHSPが動くように！</li>
</ul>

<h3 id="%E3%82%A2%E3%83%97%E3%83%AA%E9%96%A2%E9%80%A3">アプリ関連</h3>

<ul>
<li><a href="https://github.com/sharkpp/TimestampFreezer">TimestampFreezer</a> のバイナリ公開</li>
<li><a href="https://github.com/sharkpp/Jugemutter">Jugemutter</a> の完成</li>
</ul>

<p>ではでは、平成も残すところ半年を切っていますが、今年もよろしくお願いいたします。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[大晦日@2018]]></title>
            <link href="http://www.sharkpp.net/blog/2018/12/31/new-years-eve-2018.html"/>
            <updated>2018-12-31T17:55:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/12/31/new-years-eve-2018.html</id>
            <content type="html"><![CDATA[<h2 id="1-%E5%B9%B4%E3%82%92%E6%8C%AF%E3%82%8A%E8%BF%94%E3%82%8A">1 年を振り返り</h2>

<p>さて、もう今年も残すところ大晦日だけになっていますね。
というか平成最後の大晦日になります。</p>

<p>今年後半は平成最後の○○というのがいろんなところで見かけられました。
この記事を見にこられている方々は、今年一年如何でしたでしょうか？</p>

<p>私自身は、今年後半から色々と忙し買った感じです。
２回も最低限の更新すらできませんでしたし、勉強会にも顔を出せませんでした。</p>

<p>今年一年、いいことがあった方も悪いことばかりだった方も「<a href="http://sharkpp.github.io/joya_no_kane/">除夜の鐘</a>」を突いてみては如何でしょうか？</p>

<p>と言うことで、今年の反省をば。</p>

<h2 id="%E7%B5%90%E6%9E%9C">結果</h2>

<p>まずは、今年の正月 <a href="/blog/2018/01/01/happy-new-year-2018.html">HAPPY NEW YEAR 2018</a> に掲げた目標です。</p>

<ul>
<li><a href="https://github.com/sharkpp/Jugemutter">Jugemutter</a> の完成</li>
<li>HSPコンテスト作品の製作！</li>
<li><a href="http://hsp-users.jp/">HSP関連サイト</a>の定期的な更新。</li>
<li>Advent Calendar の開催（三年目）</li>
<li>WINEの最新版でHSPが動くように！</li>
<li>macOSで利用できるドキュメントビューアの作成</li>
<li>HSP to rust トランスレータ</li>
<li><a href="https://github.com/sharkpp/TimestampFreezer">TimestampFreezer</a> のバイナリ公開</li>
<li><a href="https://github.com/sharkpp/Jugemutter">Jugemutter</a> の完成</li>
<li>バイナリエディタを作りたい</li>
</ul>

<p>と、こんな感じ。</p>

<p><a href="http://hsp-users.jp/">HSP関連サイト</a>の定期的な更新やサイトのツイッター <a href="https://twitter.com/hsp_users_jp">@hsp_users_jp</a> も、今年もなかなか上手くいかなかったです。</p>

<p>HSPコンテストは……　見事に落としました。</p>

<p>あとは、<a href="https://github.com/sharkpp/franz-recipe-mastodon">Franz 5 recipe for Mastodon</a> と <a href="https://github.com/sharkpp/franz-recipe-misskey">Franz 5 recipe for Misskey</a> を公開したり、<a href="https://github.com/sharkpp/qtauthwith">Authenticate with something (twitter, dropbox, or ...) on Qt Network Authorization</a> を作っていたりと前半はそこそこ活動できていたけど、後半は... って感じでしょうか？</p>

<p>あ、あと今年も<a href="https://togetter.com/li/1187665">よんた@keita44_f4 さんの日本酒の感想ツイートまとめ</a>を更新してました。かなり更新が遅れ気味ですが...
お酒美味しそうですね！</p>

<h2 id="%E5%8F%8D%E7%9C%81">反省</h2>

<p>とりあえず、HSPコンテスト来年、来年こそは……</p>

<p>あと、毎年のことながら、ほったらかしのソフトとか、Jugemutter なんとかしたいです。</p>

<p>と言うあたりで今年の反省会終了です。</p>

<p>来年もよろしくお願いします。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[技術書典5に行ってきた]]></title>
            <link href="http://www.sharkpp.net/blog/2018/10/14/techbookfest5.html"/>
            <updated>2018-10-14T12:50:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/10/14/techbookfest5.html</id>
            <content type="html"><![CDATA[<p>2016年から始まった技術書オンリーな同人イベント「<a href="https://techbookfest.org/">技術書典</a>」も数えて５回目のになります。
その「<a href="https://techbookfest.org/event/tbf05">技術書典５</a>」が、10月08日の体育の日に開催されたので参加して来ました。
今回は、場所を秋葉原のUDXから池袋のサンシャインシティへと移し、床面積は約３倍以上<sup><a href="#note1">*1</a></sup>、サークル数も２倍近くに規模が大きくなりつつの開催でした。
また、NHKも取材に来ていたようで<a href="https://twitter.com/nhk_news/status/1050252562748899328">ニュース</a>になっていました。</p>

<p><small id="note1">*1 
<a href="http://udx-akibasquare.jp/index.php?pg=facilities">秋葉原UDX AKIBA_SQUARE</a> は 1,010m<sup>2</sup>、<a href="http://co.sunshinecity.co.jp/exhibition/hall_spec.html#04">サンシャインシティ 展示ホールD</a> は 3,341m<sup>2</sup>
</small></p>

<p><a href="/images/20181008_tf5.jpg"><img src="/thumbs/f5a6f1de07bdb58eb4f438b24ac46887-640x640.jpg" alt="技術書典5"></a></p>

<h2 id="%E5%A7%8B%E3%82%81%E3%81%AB">始めに</h2>

<p>前回のレポートは「<a href="/blog/2018/05/18/techbookfest4.html">技術書典4に行ってきた</a>」となります。</p>

<p>今回は、サークル数 約470 、入場者数 10341 人だったようです。サークル関係者なども含んでいるようですが、ついに１万人の大台に乗ってしまったようですね。
会場が広がったにもかかわらず、人口密度が”今回も”大変なことになっていました。
帰りがてら12:30頃に確認したところ、端から端まで脇目も振らず移動するのにも１０分ぐらい掛かりました。</p>

<p><a href="https://docs.google.com/spreadsheets/d/1gNVy9ukLn3kYzOC0nyOpysD-Xl3fIzHl26WSSLHC-HY/edit?usp=sharing"><img src="/images/20181008_tf1_tf5_graph.png" alt="参加人数" /></a></p>

<h2 id="%E5%BD%93%E6%97%A5">当日</h2>

<p><a href="/images/20181008_tf5_circle_enter.jpg"><img src="/thumbs/bfa0d63b9c83f33914e16f985548b80f-640x640.jpg" alt="サークル入場の様子"></a></p>

<p>当日は、前回よりも少しだけ早く09:35頃に会場に到着、がすでに目測で150人程度は並んでいました。
どうやら、最初の人は 09:15頃から並んでいた様子。
前回と違い、早い段階から列の形成が始まっていました。</p>

<p><a href="/images/20181008_tf5_wait_list_moving.jpg"><img src="/thumbs/ec2aa6d8db10d67e51340f242c653224-640x640.jpg" alt="待機列屋内移動時"></a></p>

<p>今回は整理券配布はなく、代わりに再入場券として配っていました。
前回と同じような形＆番号も刻印されていたので急遽方針が変わったのかもしれません。
また、待機中の公式カタログ販売もありませんでした。</p>

<p>10:00頃、待機列が動き、先頭が入り口付近まで移動。後ろも順に移動。</p>

<p><a href="/images/20181008_tf5_opening.jpg"><img src="/thumbs/bb86b090f7401fb487a1a7c939dcdb49-640x640.jpg" alt="開場"></a></p>

<p>11:00を過ぎたところで会場内から拍手があり、遅れて待機列からも拍手が上がり、開場しました。
今回も待たされる事なく第一陣として入場できました。</p>

<p>ここで、お目当の所をささっと回ってから順に回ればよかったのに順に回ってしまったので何点か購入できなかったものがありました。残念。</p>

<p><a href="/images/20181008_tf5_crowd.jpg"><img src="/thumbs/8951105e1bba65c5b1b7ca79b6d03f9c-640x640.jpg" alt="ひとひとひと"></a></p>

<p>ちょっと最初に手間取ったこともあり、かんたん後払い決済と現金とは、今回半々ぐらいの割合で利用しました。</p>

<p>戦利品はまた後ほどです。</p>

<p><a href="/images/20181008_tf5_pe_of_tf_illust.jpg"><img src="/thumbs/59bbceb59d9838534234a4b07ea37999-640x640.jpg" alt="技術書典イラスト個展"></a></p>

<p>会場出口直前には前回なかった見本誌の立ち見スペースがありましたが、それはもう人が多くてのぞいてくのを諦めました。
あとは、企画展示の「技術書典イラスト個展」なるものが開かれていて、油絵のキャンパスに印刷？されたデジタル油絵の展示（サークル数が前回の数だったのでイラスト自体は前回作られたものだと思います）やそれらのストカードの販売をしてました。</p>

<p>結局、ぐるっと回って、最後に前回までの公式絵などのイラストが書かれたポストカードを何枚か購入し、会場を脱出しました。</p>

<h2 id="%E6%88%A6%E5%88%A9%E5%93%81">戦利品</h2>

<p>今回の戦利品</p>

<p><a href="/images/20181009_tf5_booty.jpg"><img src="/thumbs/4bfbe88365f9b8a0800a39385e30b5e3-640x640.jpg" alt="戦利品"></a></p>

<table>
<thead>
<tr>
  <th>配置</th>
  <th>サークル名/ペンネーム</th>
  <th>頒布物</th>
</tr>
</thead>
<tbody>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/69020002">運01</a></td>
  <td><a href="https://techbookfest.org/">技術書典運営事務局</a>/<a href="https://twitter.com/techbookfest">技術書典運営事務局</a></td>
  <td>「技術季報 vol.4」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/69020002">運01</a></td>
  <td><a href="https://techbookfest.org/">技術書典運営事務局</a>/<a href="https://twitter.com/techbookfest">技術書典運営事務局</a></td>
  <td>「ポストカード×6」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/33160002">ス05</a></td>
  <td>リクルートライフスタイル/リクルートライフスタイル</td>
  <td>「ＨＯＴ ＥＮＧＩＮＥＥＲ」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/30200001">あ13</a></td>
  <td><a href="http://mochikoastech.hatenablog.com/">mochikoAsTech</a>/<a href="https://twitter.com/mochikoAsTech">mochikoAsTech</a></td>
  <td>「【技術書典限定】DNS&amp;AWS 2冊セット」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/47000003">あ20</a></td>
  <td><a href="http://webdesign-manga.com/">湊川あいの、わかば家。</a>/<a href="https://twitter.com/webdesignManga">湊川あい</a></td>
  <td>「マンガでわかるDocker② 〜開発環境を作ろう編〜」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/29530001">い17</a></td>
  <td><a href="http://udk.blog91.fc2.com/">コンテンツマーケティング協会</a>/<a href="https://twitter.com/udk91">雨月</a></td>
  <td>「VR／ARは美少女AIとともに。」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/28720006">い25</a></td>
  <td><a href="http://sanya.sweetduet.info/monatxscript/">superflip</a>/<a href="https://twitter.com/sprflp">kusano_k</a></td>
  <td>「ZIP、完全に理解した」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/26850009">い30</a></td>
  <td><a href="http://d.hatena.ne.jp/izmktr/">GarbageCollection</a>/<a href="https://twitter.com/izmktr">出水洸太郎</a></td>
  <td>「仮面ライダービルドの数式が分かる本」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/27470004">う21</a></td>
  <td><a href="https://twitter.com/daphnia_class/status/914009676500447232">みじんこ組</a>/<a href="https://twitter.com/daphnia_class">みじんこ組</a></td>
  <td>「試験に出ないSE用語 (第3版)」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/43160001">う24</a></td>
  <td><a href="https://blog.mtb-production.info/">mtbプロジェクト</a>/<a href="https://twitter.com/mtb_beta">mtb_beta</a></td>
  <td>「IT実務のアンチパターン プロジェクト計画編」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/41000002">う28</a></td>
  <td>ひろ亭/<a href="https://twitter.com/hirosys_">長村ひろ</a></td>
  <td>「むつきくんと学ぶ AWS CLI」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/39040001">う74</a></td>
  <td><a href="https://www.konosumi.net/">このすみ堂</a>/<a href="https://twitter.com/konosumi">このすみ</a></td>
  <td>「エンジニアアンチパターン 〜失敗に学ぶエンジニアリング〜」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/49040001">お08</a></td>
  <td><a href="https://www.facebook.com/windholep/">windhole</a>/<a href="https://twitter.com/windhole">風穴 江</a></td>
  <td>「Ryzen SEGV Battle」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/28500001">お24</a></td>
  <td><a href="https://devrel.tokyo">DevRel Meetup</a>/<a href="https://twitter.com/goofmint">goofmint</a></td>
  <td>「開発者コミュニティの光と闇のセット」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/53000003">か16</a></td>
  <td>調布技研/<a href="https://twitter.com/nasa9084">nasa9084</a></td>
  <td>「Kubernetesを色んなところで動かす本」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/24990003">か22</a></td>
  <td><a href="http://nikuyoshi.hatenablog.com/">にくよし文庫</a>/<a href="https://twitter.com/nikuyoshi">nikuyoshi</a></td>
  <td>「Ansible Roleをつくってみよう」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/35050001">か23</a></td>
  <td><a href="https://note.mu/niwaken">技術コミュニケーション研究所</a>/<a href="https://twitter.com/niwaken">にわけん</a></td>
  <td>「SESサバイバルガイド」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/31390001">か26</a></td>
  <td><a href="https://nanaumi.info/">SIGNIA</a>/<a href="https://twitter.com/nana_u_mi">ななうみ</a></td>
  <td>「機能するUIを作れるようになる本-基本のキ編-」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/41000007">き05</a></td>
  <td><a href="http://relog.xii.jp/">理ろぐ</a>/<a href="https://twitter.com/IoriAYANE">理音伊織</a></td>
  <td>「Qt Quickアプリの設計事情」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/41170003">き06</a></td>
  <td><a href="https://qiita.com/argama147">エゥーゴ</a>/<a href="https://twitter.com/argama147">argama147</a></td>
  <td>「Qt5/C++入門 マルチプラットフォーム開発を始めよう」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/28640001">き07</a></td>
  <td><a href="http://emblog.hatenablog.jp/">eMbLog</a>/<a href="https://twitter.com/sazus">sazus</a></td>
  <td>「PythonでGUIをつくろう〜はじめてのQt for Python〜」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/29300002">き08</a></td>
  <td><a href="http://blog.michinari-nukazawa.com/">daisy bell</a>/<a href="https://twitter.com/MNukazawa">MNukazawa</a></td>
  <td>「GTK Qt Electron」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/28510001">き21</a></td>
  <td><a href="https://j74th.com/">74th</a>/<a href="https://twitter.com/74th">74th</a></td>
  <td>「Fabric &amp; Invoke Quick Guide」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/29520011">く14</a></td>
  <td><a href="https://twilog.org/gunjigakusyusha">軍事学習社＆帝国音楽堂</a>/<a href="https://twitter.com/gunjigakusyusha">バーバラ・アスカ</a></td>
  <td>「土佐正道『缶ピアノの作りかた』」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/29520011">く14</a></td>
  <td><a href="https://twilog.org/gunjigakusyusha">軍事学習社＆帝国音楽堂</a>/<a href="https://twitter.com/gunjigakusyusha">バーバラ・アスカ</a></td>
  <td>「土佐正道『おカリーなの作りかた』」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/35170002">け48</a></td>
  <td>四六時ハック/<a href="https://twitter.com/mqtsuo02">まつおちゃん</a></td>
  <td>「もってけ！PWA」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/29530004">け63</a></td>
  <td><a href="http://romly.com">romly.com</a>/<a href="https://twitter.com/Romly">Romly</a></td>
  <td>「軸の本 Mechanical Switch Data Book EARLY ACCESS」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/43110001">こ32</a></td>
  <td><a href="https://github.com/nakajmg/">Pony Head</a>/<a href="https://twitter.com/nakajmg">nakajmg</a></td>
  <td>「後悔しないためのVueコンポーネント設計」</td>
</tr>
<tr>
  <td><a href="https://techbookfest.org/event/tbf05/circle/24720002">こ36</a></td>
  <td><a href="http://mymarkdown.firebaseapp.com/">ザ・シメサバズ</a>/<a href="https://twitter.com/nabettu">渡邊達明</a></td>
  <td>「ゼロから始めるNetlify」</td>
</tr>
</tbody>
</table>

<p>※敬称略、配置順</p>

<h2 id="%E3%81%BE%E3%81%A8%E3%82%81">まとめ</h2>

<p>反省点</p>

<ul>
<li>そろそろ規制が入りそうだけど、もう少しだけ早く来て列に並べばよかったかも</li>
<li>お目当のサークルを先に回るべきだった</li>
</ul>

<p>会場が大きく、しかし入場者も多かった今回、色々と反省点はありましたが、いろんな本に出会えて楽しいイベントでした。</p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="https://twitter.com/techbookfest/status/1049208448372465664">技術書典公式アカウントさんのツイート: "これにて #技術書典 閉会します。ご来場、誠にありがとうございました。総来場者数は のべ10341人、うちサークル・スタッフ等関係者は889人でした。"</a></li>
<li><a href="https://haskell.jp/blog/posts/2018/tech-book-fest-5.html">技術書典 5 での Haskell 関連サークルのまとめ - Haskell-jp</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Franz 5 のレシピに関するメモ]]></title>
            <link href="http://www.sharkpp.net/blog/2018/09/26/franz-recipe-memo.html"/>
            <updated>2018-09-26T00:00:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/09/26/franz-recipe-memo.html</id>
            <content type="html"><![CDATA[<p>Franz 5 用のレシピを作る際にいろいろソース読んだり調べたりしたのでそれのメモです。</p>

<p>現状 Franz 5 は、まだまだベータバージョンです。
なので仕様が変わることがあるため、ここに書かれている内容と違う動きをする場合もあります。</p>

<h2 id="%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82-franz-%E3%81%A8%E3%81%AF%E3%81%AA%E3%82%93%E3%81%9E%E3%82%84%EF%BC%9F">そもそも Franz とはなんぞや？</h2>

<p>簡単にいうと Franz は、各種 SNS をタブでまとめて管理できるデスクトップアプリです。</p>

<p><a href="https://meetfranz.com/">Franz – a free messaging app for Slack, Facebook Messenger, WhatsApp, Telegram and more</a> からダウンロードできますが、利用するにはアカウント登録が必要です。</p>

<p>特徴として</p>

<ul>
<li>レシピ（＝拡張）を追加することで様々な SNS などの Webサービスに対応可能</li>
<li>レシピごとに複数のアカウントを割り当て可能（＝マルチアカウント対応）</li>
<li>クロスプラットフォームなデスクトップアプリ</li>
</ul>

<p>などがあります。</p>

<p>まあ、仕組みとしては Webで提供されているページをタブで表示しているのでブラウザで表示できるページであれば基本はなんでも表示できます。</p>

<h2 id="recipe-%E3%81%AE%E4%BD%9C%E3%82%8A%E6%96%B9">Recipe の作り方</h2>

<p>レシピの作り方を超簡単、ざっくりと説明</p>

<ol>
<li>Franz でサポートしたいSNS等を決める</li>
<li><a href="https://github.com/meetfranz/plugins/tree/master/docs">Franz Integration Documentation</a> をじっくりよく読む</li>
<li>既存のレシピのソースを眺め参考にしながら対象のSNSを表示するように実装</li>
<li>デバッグは <a href="https://github.com/meetfranz/plugins/blob/master/docs/integration.md#user-content-installation">Franz Recipe Documentation / Overview - Installation</a> を参考に</li>
<li>完成したら <a href="https://github.com/meetfranz/plugins/issues/new?title=[Deploy]%20@@@@">New Issue - meetfranz/plugins</a> からレシピのデプロイを要望しましょう</li>
</ol>

<p>ほら簡単！</p>

<h2 id="webview.js-%E3%81%AE-exports-%E9%96%A2%E6%95%B0%E3%81%AE%E7%AC%AC%EF%BC%92%E5%BC%95%E6%95%B0">webview.js の exports 関数の第２引数</h2>

<p><code>webview.js</code> の <code>module.exports</code> で公開する関数の引数は通常</p>

<pre><code class="javascript">      :
module.exports = (Franz) =&gt; {
      :
</code></pre>

<p>と、このようになっています。</p>

<p><a href="https://github.com/meetfranz/plugins/blob/master/docs/frontend_api.md#usage-2">プラグインドキュメント frontend_api.md</a> でも同様です。</p>

<p>この定義に、第２引数を追加し</p>

<pre><code class="javascript">      :
module.exports = (Franz, data) =&gt; {
      :
</code></pre>

<p>と、このようにすると</p>

<pre><code class="javascript">data = {
    customUrl: "",
    hasCrashed: false,
    hasCustomUploadedIcon: false,
    iconUrl: "",                                // アカウントで設定しているアイコンを指定
    id: "0ea52f93-9c9a-4d07-a40e-876aacabce81", // サービスの識別子
    isActive: true,                             // 現在アクティブ（表示されている）か？
    isAttached: true,
    isBadgeEnabled: true,                       // 通知バッジが有効？
    isEnabled: true,                            // サービスが有効？
    isIndirectMessageBadgeEnabled: true,        // DM用のバッチが有効？
    isMuted: false,                             // オーディオでの通知が無効？
    isNotificationEnabled: true,                // 通知が有効？
    name: "hoge fuga",                          // サービスの名称（ユーザーが自由に設定）
    order: 5,                                   // 並び順
    recipe: {...},                              // サービスの元となる recipe
    team: "",                                   // チーム名
    timer: 29,
    unreadDirectMessageCount: 0,                // 未読なDMの個数
    unreadIndirectMessageCount: 0,              // 未読な返信の個数
    webview: {...}
};
</code></pre>

<p>とこのような感じで色々情報が取得できるようです。
ただ、これらはコピーされた値のようで受け取った以後は一切更新がされないようです。
ちなみに、呼び出し元は <code>/src/webview/plugin.js</code> の <code>initializeRecipe</code> イベントのリスナののようです。</p>

<h2 id="developper-tools">Developper Tools</h2>

<p>Franz には、Developper Tools が <code>index.js</code> 用と <code>webview.js</code> 用の２種類あります。</p>

<p>それぞれの動作をまとめました。</p>

<table>
<thead>
<tr>
  <th>対象</th>
  <th>メニュー</th>
  <th><code>Reload Franz</code> 時の動作</th>
  <th><code>Reload Service</code> 時の動作</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>index.js</code></td>
  <td><code>View</code> → <code>Toggle Developper Tools</code></td>
  <td>全てのServiceで共通</td>
  <td><code>Preserve log</code> オプションが非チェックだとログがクリアされる|影響なし</td>
</tr>
<tr>
  <td><code>webview.js</code></td>
  <td><code>View</code> → <code>Toggle Service Developper Tools</code></td>
  <td>それぞれのServiceごと</td>
  <td>ウインドウが破棄される|<code>Preserve log</code> オプションが非チェックだとログがクリアされる</td>
</tr>
</tbody>
</table>

<h2 id="%E9%80%9A%E7%9F%A5%E3%81%A8%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6">通知とオーディオについて</h2>

<p>Franz自体での通知の有効と無効は</p>

<pre><code class="javascript">// webview.js

const { ipcRenderer } = require('electron');

ipcRenderer.on('settings-update', (sender, settings) =&gt; {
  console.log(`isAppMuted = ${settings.isAppMuted}`);
  // isAppMuted = true  = ミュート状態
  // isAppMuted = false = ミュート解除状態
});

         :
</code></pre>

<p>と、することで確認可能。</p>

<p>ただし、 <code>Franz v5.0.0 bata 18</code> 以降実装が変わったのか、最初に一回呼び出されて以後一切呼ばれなくなります。なんとなくバグっぽい気もします。</p>

<p>Backend 側で <code>window.franz.stores.services</code> を定期的に参照し変化があった場合に Frontend 側に通知すれば自力で同様のことができるようです。</p>

<p><a href="https://github.com/sharkpp/franz-recipe-mastodon/commit/e6e3db9ab3e04aa9f35cdac59b01bba145ae3029">この辺</a> のソースを参考に、です。</p>

<p>個別のサービスの「通知を無効にする」や「オーディオの無効化」の状態は、<code>exports</code> する関数に２つ目の引数を追加することで...</p>

<pre><code class="javascript">      :
module.exports = (Franz, data) =&gt; {
    console.log(`isMuted = ${data.isMuted}`);
    console.log(`isNotificationEnabled = ${data.isNotificationEnabled}`);
      :
</code></pre>

<p>どうもイベント通知で送られて来るために引数は Deep Copy された値が渡されるようです。
そのため初期状態は取得できますが、変化があっても反映されることはありません。</p>

<p>ちなみに <code>Franz.onNotify()</code> は、Franz自体の設定で「通知とオーディオを無効化」したり、それぞれのサービスで個別に「通知を無効にする」としても必ず呼び出されます。</p>

<h2 id="%E3%83%87%E3%82%B9%E3%82%AF%E3%83%88%E3%83%83%E3%83%97%E9%80%9A%E7%9F%A5">デスクトップ通知</h2>

<p>デスクトップ通知は</p>

<pre><code class="javascript">    Franz.onNotify(notification =&gt; {
        // ToDo ...
        return notification;
    });
</code></pre>

<p>で実際にデスクトップに通知する直前に情報を取得できます。</p>

<p>参考：<a href="https://github.com/meetfranz/plugins/blob/master/docs/frontend_api.md#onnotifyfn">frontend_api.md#onnotifyfn</a></p>

<p>そして <code>return false;</code> とすることで通知を握りつぶすことができます。</p>

<pre><code class="javascript">    Franz.onNotify(notification =&gt; {
        // destroy the notification
        return false;
    });
</code></pre>

<h2 id="%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%81%AE%E8%AD%98%E5%88%A5%E5%AD%90%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B">サービスの識別子を取得する</h2>

<p><code>webview.js</code> の exports 関数の二つ目の引数で取得できます。</p>

<pre><code class="javascript">      :
module.exports = (Franz, data) =&gt; {
    console.log('id = "${data.id}"'); // id = "0ea52f93-9c9a-4d07-a40e-876aacabce81"
</code></pre>

<p>この値が、 recipe からインスタンスとして起動した service の識別子となります。</p>

<h2 id="backend-api-%E3%81%A7%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8C%E3%82%8B%E5%90%84%E7%A8%AE%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88">Backend API で受け取れる各種イベント</h2>

<p>イベントを受け取るためにどんなイベントを受け取るかあらかじめ定義します。</p>

<pre><code class="javascript">module.exports = Franz =&gt; class HogeHoge extends Franz {

  constructor(...args) {
    let _temp;
    return _temp = super(...args), this.events = {
        // ここで受け取るイベントを定義
        'did-navigate': 'handleDidNavigate',
    }, _temp;
  }

  handleDidNavigate (event) {
      // 諸々の処理を行う
  }
                   :
};
</code></pre>

<p>受け取れる主なイベントはこんな感じ</p>

<table>
<thead>
<tr>
  <th>イベント名</th>
  <th>概要</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>before-input-event</code></td>
  <td></td>
</tr>
<tr>
  <td><code>certificate-error</code></td>
  <td></td>
</tr>
<tr>
  <td><code>console-message</code></td>
  <td><code>console.*</code> で表示する内容</td>
</tr>
<tr>
  <td><code>context-menu</code></td>
  <td></td>
</tr>
<tr>
  <td><code>crashed</code></td>
  <td></td>
</tr>
<tr>
  <td><code>cursor-changed</code></td>
  <td></td>
</tr>
<tr>
  <td><code>destroyed</code></td>
  <td></td>
</tr>
<tr>
  <td><code>devtools-closed</code></td>
  <td>開発者ツールが閉じられた</td>
</tr>
<tr>
  <td><code>devtools-focused</code></td>
  <td>開発者ツールがにフォーカスが当たった</td>
</tr>
<tr>
  <td><code>devtools-opened</code></td>
  <td>開発者ツールが表示された</td>
</tr>
<tr>
  <td><code>devtools-reload-page</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-attach-webview</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-change-theme-color</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-fail-load</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-finish-load</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-frame-finish-load</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-get-redirect-request</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-get-response-details</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-navigate</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-navigate-in-page</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-start-loading</code></td>
  <td></td>
</tr>
<tr>
  <td><code>did-stop-loading</code></td>
  <td></td>
</tr>
<tr>
  <td><code>dom-ready</code></td>
  <td>コンテンツのDOMの準備ができた</td>
</tr>
<tr>
  <td><code>found-in-page</code></td>
  <td></td>
</tr>
<tr>
  <td><code>login</code></td>
  <td></td>
</tr>
<tr>
  <td><code>media-paused</code></td>
  <td></td>
</tr>
<tr>
  <td><code>media-started-playing</code></td>
  <td></td>
</tr>
<tr>
  <td><code>new-window</code></td>
  <td></td>
</tr>
<tr>
  <td><code>page-favicon-updated</code></td>
  <td></td>
</tr>
<tr>
  <td><code>paint</code></td>
  <td></td>
</tr>
<tr>
  <td><code>plugin-crashed</code></td>
  <td></td>
</tr>
<tr>
  <td><code>select-bluetooth-device</code></td>
  <td></td>
</tr>
<tr>
  <td><code>select-client-certificate</code></td>
  <td></td>
</tr>
<tr>
  <td><code>update-target-url</code></td>
  <td></td>
</tr>
<tr>
  <td><code>will-attach-webview</code></td>
  <td></td>
</tr>
<tr>
  <td><code>will-navigate</code></td>
  <td></td>
</tr>
<tr>
  <td><code>will-prevent-unload</code></td>
  <td></td>
</tr>
</tbody>
</table>

<p>概要がブランクの部分はまだ調べきれていない部分です。
まあ、イベント名でなんとなく想像はできると思います。</p>

<h2 id="backend-api-%E3%81%8B%E3%82%89-frontend-api-%E3%81%B8">Backend API から Frontend API へ</h2>

<p>Backend API (index.js) から Frontend API (webview.js) へのデータの受け渡しの方法。</p>

<p>送り側：</p>

<pre><code class="javascript">// index.js

    // this は webview のインスタンスである必要があります。
    // コンストラクタの this では WebView のインスタンスへアクセスできないようです。
    this.send('test', { foo: 'bar' });
</code></pre>

<p>受け取り側：</p>

<pre><code class="javascript">// webview.js

const { ipcRenderer } = require('electron');

ipcRenderer.on('test', (sender, data) =&gt; {
    console.log(data); // { foo: 'bar' }
});
</code></pre>

<h2 id="frontend-api-%E3%81%8B%E3%82%89-backend-api-%E3%81%B8">Frontend API から Backend API へ</h2>

<p>Frontend から Backend への通知方法はまだ見つかっていません。
おそらく出来るとは思います...</p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="https://github.com/meetfranz/plugins">meetfranz/plugins: Official Franz Plugin Repository</a></li>
<li><a href="https://qiita.com/kan/items/571b2f56c54e1e3b6516">Franz Pluginを作ってみよう - Qiita</a></li>
<li><a href="https://github.com/meetfranz/recipe-rocketchat/blob/master/webview.js">recipe-rocketchat/webview.js at master · meetfranz/recipe-rocketchat</a></li>
<li><a href="https://github.com/meetfranz/franz/blob/a4b665ef5f218313e524f0582d08cde6aa5d7049/src/webview/notifications.js">franz/notifications.js at a4b665ef5f218313e524f0582d08cde6aa5d7049 · meetfranz/franz</a></li>
<li><a href="https://github.com/meetfranz/recipe-messenger/blob/0df2bea55d7775a70d73a93663520d1fe8982241/webview.js">recipe-messenger/webview.js at 0df2bea55d7775a70d73a93663520d1fe8982241 · meetfranz/recipe-messenger</a></li>
<li><a href="https://github.com/meetfranz/franz/blob/a4b665ef5f218313e524f0582d08cde6aa5d7049/src/webview/lib/RecipeWebview.js">franz/RecipeWebview.js at a4b665ef5f218313e524f0582d08cde6aa5d7049 · meetfranz/franz</a></li>
<li><a href="https://github.com/tootsuite/mastodon/blob/master/app/javascript/mastodon/actions/notifications.js">mastodon/notifications.js at master · tootsuite/mastodon</a></li>
<li><a href="https://github.com/tsadiq/mastodon-franz/blob/master/index.js">mastodon-franz/index.js at master · tsadiq/mastodon-franz</a></li>
<li><a href="https://github.com/kan/franz-plugin-mastodon/blob/master/webview.js">franz-plugin-mastodon/webview.js at master · kan/franz-plugin-mastodon</a></li>
<li><a href="https://github.com/electron/electron/blob/master/docs/api/web-contents.md">electron/web-contents.md at master · electron/electron</a></li>
<li><a href="https://electronjs.org/docs/api/webview-tag#dom-events"><webview> Tag | Electron</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Franz 用の Misskey レシピを作りました！]]></title>
            <link href="http://www.sharkpp.net/blog/2018/08/27/franz-recipe-misskey.html"/>
            <updated>2018-08-27T00:00:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/08/27/franz-recipe-misskey.html</id>
            <content type="html"><![CDATA[<p>先日から話題になってた分散マイクロブログSNSであるところの <a href="https://github.com/syuilo/misskey">syuilo/misskey: A planet of fediverse ✨🐢🚀✨</a> があります。
それに対応したクライアント <a href="https://github.com/sharkpp/franz-recipe-misskey">Franz 5 recipe for Misskey</a> を昨晩公開したので紹介します。</p>

<h2 id="%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82-franz-%E3%81%A8%E3%81%AF%E3%81%AA%E3%82%93%E3%81%9E%E3%82%84%EF%BC%9F">そもそも Franz とはなんぞや？</h2>

<p>簡単にいうと Franz は、各種 SNS をタブでまとめて管理できるデスクトップアプリです。</p>

<p><a href="https://meetfranz.com/">Franz – a free messaging app for Slack, Facebook Messenger, WhatsApp, Telegram and more</a> からダウンロードできますが、利用するにはアカウント登録が必要です。</p>

<p>特徴として</p>

<ul>
<li>レシピ（＝拡張）を追加することで様々な SNS などの Webサービスに対応可能</li>
<li>レシピごとに複数のアカウントを割り当て可能（＝マルチアカウント対応）</li>
<li>クロスプラットフォームなデスクトップアプリ</li>
</ul>

<p>などがあります。</p>

<p>まあ、要するに Webで提供されているページをタブで表示している訳です。
そのため、LINE など Webページが存在しないサービスに対しては逆立ちしても利用できないのですが...</p>

<h2 id="%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE">必要なもの</h2>

<ul>
<li><a href="https://meetfranz.com/">Franz</a> 5 以降<br />古いバージョンはサポートしていません。</li>
<li><a href="https://joinmisskey.github.io/">Misskey</a> アカウント<br />アカウントを持っていない場合は、自分で Misskey インスタンスを立ち上げるか <a href="https://joinmisskey.github.io/ja/wiki/instances/">Misskey instances</a> から探して見てください</li>
</ul>

<h2 id="%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95">インストール方法</h2>

<h3 id="%E9%96%8B%E7%99%BA%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3">開発バージョン</h3>

<ol>
<li><code>franz-recipe-misskey</code> をダウンロードします。</li>
<li>PC上の Franz Plugins フォルダを開きます<br />(メモ： <strong><code>dev</code> ディレクトリが存在しない場合は作成する必要があります</strong>)

<ul>
<li>Mac: <code>~/Library/Application Support/Franz/recipes/dev/</code></li>
<li>Windows: <code>%AppData%\Franz\recipes\dev\</code></li>
<li>Linux: <code>~/.config/Franz/recipes/dev</code></li>
</ul></li>
<li><code>franz-recipe-misskey</code> フォルダを plugins ディレクトリにコピーします</li>
<li>Franz を再起動する</li>
</ol>

<p>詳しくは <a href="https://github.com/meetfranz/plugins/blob/master/docs/integration.md">Franz Recipe Documentation / Overview</a> を参照してください。</p>

<h3 id="%E5%AE%89%E5%AE%9A%E7%89%88">安定版</h3>

<p>準備中...</p>

<p>※ <a href="https://github.com/meetfranz/plugins/issues/194">[Deploy] Misskey - Issue #194 - meetfranz/plugins</a> で公式リポジトリへの登録をリクエストをしているけど、どうなることやら</p>

<h2 id="%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95">利用方法</h2>

<h3 id="%E6%96%B0%E3%81%97%E3%81%84%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B">新しいサービスを追加する</h3>

<p><img src="/images/20180826_add-service.png" alt="サービスの追加" /></p>

<p><em>開発バージョン</em></p>

<h3 id="%E8%A8%AD%E5%AE%9A">設定</h3>

<p><img src="/images/20180826_add-service-settings.png" alt="サービスの追加" /></p>

<table>
<thead>
<tr>
  <th>#</th>
  <th>フィールド</th>
  <th>説明</th>
</tr>
</thead>
<tbody>
<tr>
  <td>①</td>
  <td>サービス名</td>
  <td>自由に設定してください</td>
</tr>
<tr>
  <td>②</td>
  <td>Misskey インスタンスのホスト名</td>
  <td>Misskey を実行しているホストを入力してください。 httpsのみがサポートされています</td>
</tr>
</tbody>
</table>

<h3 id="%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A4%E3%83%B3">サインイン</h3>

<p><img src="/images/20180826_misskey-signin.png" alt="" /></p>

<p>登録されたアカウント情報を入力してください。</p>

<h3 id="%E9%80%9A%E7%9F%A5%E3%83%90%E3%83%83%E3%82%B8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6">通知バッジについて</h3>

<p><img src="/images/20180826_notification-badge-example.png" alt="" /></p>

<p>通知を確認すると同時にクリアされます。</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[名古屋Qt勉強会#19 に参加しました]]></title>
            <link href="http://www.sharkpp.net/blog/2018/08/26/qt-nagoya-19.html"/>
            <updated>2018-08-26T09:57:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/08/26/qt-nagoya-19.html</id>
            <content type="html"><![CDATA[<p>8月25日(土) に開催された <a href="https://qt-users.connpass.com/event/98190/">Qt 勉強会 @ Nagoya #19 - connpass</a> に参加しました。</p>

<p>そのまとめなどです。</p>

<p><img src="/images/20180825_qauthwith1.png" alt="成果" /></p>

<h2 id="%E5%8B%95%E7%9A%84%E3%81%AB%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%ABc%2B%2B%E5%81%B4%E3%81%8B%E3%82%89%E5%80%A4%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B">動的に追加したコンポーネントにC++側から値を設定する</h2>

<p>たぶんこのままではちゃんと動かないけど、雰囲気それらしいメモ。</p>

<pre><code class="javascript">// .qml
    Component {
        id: hogeHoge
        Label {
            property variant hoge: null
            anchors.right: parent.right
            anchors.left: parent.left
            text: ""
            Component.onCompleted: {
                hoge.bind(this);
            }
        }
    }
            :
    hogeHoge.createObject(container, {
        hoge: hoge
    })

</code></pre>

<pre><code class="cpp">// .h
class Hoge : public QObject {
                  :
    Q_INVOKABLE void bind(QObject* object);
                  :
}
</code></pre>

<pre><code class="cpp">// .cpp
               :
    QQmlApplicationEngine engine;
    Hoge hoge;
    engine.rootContext()-&gt;setContextProperty("hoge", &amp;hoge);
               :
void Hoge::bind(QObject* object)
{
    qDebug() &lt;&lt; object; // QQuickLabel_QML_99(0xffffffffff00)

    // read from
    qDebug()  &lt;&lt; "Property value:" &lt;&lt; object-&gt;property("text").toString();
//or qDebug() &lt;&lt; "Property value:" &lt;&lt; QQmlProperty::read(object, "text").toString();

    // write to
    object-&gt;setProperty("text", "aaaa");
//or QQmlProperty::write(object, "text", aaaa);
}
</code></pre>

<h2 id="%08qt-documentation-%E3%81%AB%E4%B8%80%E7%9E%AC%E8%A1%A8%E7%A4%BA%E3%81%95%E3%82%8C%E3%82%8B%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8">Qt Documentation に一瞬表示されるアイコンとメッセージ</h2>

<p>Qt の公式ドキュメントを表示すると上部に一瞬だけ表示されるやつ。</p>

<blockquote>
  <p>We bake cookies in your browser for a better experience.  Using this site means that you consent.
  訳：より良いエクスペリエンスのために、ブラウザでクッキーを焼きます。 このサイトを使用することはそれに同意することを意味します。</p>
</blockquote>

<p><img src="/images/20180825_qtdocwebsite.png" alt="クッキーマン？" /></p>

<p>のメッセージとともに <a href="https://www.qt.io/company/?hsLang=en">The Qt Company</a> へのリンクがあるみたい。</p>

<h2 id="%E9%80%B2%E6%8D%97">進捗</h2>

<p>今回は愚直に実装を進めた関係で新たな知見は少ない感じ。</p>

<ul>
<li>signal用のヘルプ表示関連の実装

<ul>
<li>表示用の専用QMLを実装</li>
<li>QMLの切り替え用のコードを実装</li>
<li>C++側にも実装を追加</li>
</ul></li>
<li>signal受信時にどのように通知するか？

<ul>
<li><del>パターン１：スクロール＆フラッシュ</del>

<ol>
<li><del>該当signalにスクロール</del></li>
<li><del>該当signalがフラッシング</del></li>
</ol></li>
<li>パターン２：通知＆クリックでスクロール <strong>採用！</strong>

<ol>
<li>ウインドウ内に通知</li>
<li>通知をクリックすると該当のsignalにスクロール</li>
</ol></li>
</ul></li>
</ul>

<p><img src="/images/20180825_qauthwith2.png" alt="成果" /></p>

<h2 id="%E6%87%87%E8%A6%AA%E4%BC%9A">懇親会</h2>

<p>タコさんウインナーとか、もぐもぐ♪</p>

<p><img src="/images/20180825_mogmog.jpg" alt="もぐもぐ" /></p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://doc.qt.io/qt-5/qtqml-cppintegration-interactqmlfromcpp.html">Interacting with QML Objects from C++ | Qt QML 5.11</a></li>
<li><a href="http://doc.qt.io/qt-5/qtqml-cppintegration-overview.html#choosing-the-correct-integration-method-between-c-and-qml">Overview - QML and C++ Integration | Qt QML 5.11</a></li>
<li><a href="https://gist.github.com/alex-spataru/cba4936a1d555372e898">Notification badge in QML</a></li>
<li><a href="https://doc.qt.io/QtApplicationManager/qml-qtapplicationmanager-notificationmanager.html">NotificationManager QML Type | Qt Application Manager 5.11</a></li>
<li><a href="http://doc.qt.io/qt-5/qml-qtqml-timer.html">Timer QML Type | Qt QML 5.11</a></li>
<li><a href="http://doc.qt.io/qt-5/qml-qtquick-listview.html">ListView QML Type | Qt Quick 5.11</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Qt Quick メモ]]></title>
            <link href="http://www.sharkpp.net/blog/2018/08/22/qt-quick-memo.html"/>
            <updated>2018-08-22T00:40:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/08/22/qt-quick-memo.html</id>
            <content type="html"><![CDATA[<p><a href="https://github.com/sharkpp/qtauthwith">sharkpp/qtauthwith</a> を実装中に調べメモした、 Qt Quick 関連の事をとりあえず記事にしました。</p>

<h2 id="listview-%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E7%89%B9%E5%AE%9A%E9%A0%85%E7%9B%AE%E3%81%B8%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B">ListView タイプの特定項目へスクロールする</h2>

<pre><code class="javascript">    listView.currentIndex = index
</code></pre>

<p>のような感じでインデックスを代入すればスクロールする</p>

<h2 id="gridlayout-%E3%81%A8-grid">GridLayout と Grid</h2>

<p><code>GridLayout</code> は <code>Layout.row</code> と <code>Layout.column</code> が効く。</p>

<p><code>Grid</code> は <code>Layout.row</code> と <code>Layout.column</code> が効かない。</p>

<h2 id="%E3%83%A2%E3%83%87%E3%83%AB%E3%82%92%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E4%B8%8A%E3%81%AB%E4%B8%A6%E3%81%B9%E3%82%8B">モデルをテーブル上に並べる</h2>

<pre><code class="javascript">[
    { foo: XXX1, bar: YYY1 },
    { foo: XXX2, bar: YYY2 }
]
</code></pre>

<p>を返すモデルが例。</p>

<pre><code class="javascript">import QtQuick.Layouts 1.11
         :
    GridLayout {
        id: grid
        anchors.fill: parent
        columns: 2
        rowSpacing: 5
        columnSpacing: 5
        anchors.margins: 5

        Repeater {
            model: hoge // [ { foo: XXX1, bar: YYY1 }, { foo: XXX2, bar: YYY2 } ]
            Label {
                Layout.row: index
                Layout.column: 0
                text: modelData.foo
            }
        }

        Repeater {
            model: hoge
            TextArea {
                Layout.row: index
                Layout.column: 1
                text: modelData.bar
            }
        }
    }
</code></pre>

<h2 id="qml%E3%81%A7%E5%AE%9A%E6%95%B0%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B">QMLで定数を利用する</h2>

<p>定数が大量にある場合は</p>

<pre><code class="javascript">// hoge.js
var xxx = "aa";
var yyy = "bb";
</code></pre>

<p>と登録したソースを import して</p>

<pre><code class="javascript">// fuga.qml
import "hoge.js" as Hoge
          :
        Label {
            text: Hoge.xxx
        }
        Label {
            text: Hoge.yyy
        }
          :
</code></pre>

<p>のような感じで利用すると管理が楽そう。
他の QML で使い回すならなおさら。</p>

<h2 id="qml%E5%81%B4%E3%81%8B%E3%82%89%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99%E9%96%A2%E6%95%B0%E3%81%AE%E5%BC%95%E6%95%B0%E3%81%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%B8%A1%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AE%E5%8B%95%E3%81%8D">qml側から呼び出す関数の引数にオブジェクトを渡した場合の動き</h2>

<pre><code class="javascript">// xxx.qml
   var xxx = { aa: 10, bb: "bb" };
   hoge(xxx);
</code></pre>

<p>と QML 側で C++ で定義した関数を呼び出す場合は</p>

<pre><code class="cpp">#include &lt;QJSValue&gt;
            :
   Q_INVOKABLE void hoge(const QJSValue&amp; abc);
</code></pre>

<p>という関数定義にする必要がある。</p>

<h2 id="qml-%E3%81%A7%E7%A9%BA%E3%81%A3%E3%81%BD%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B">qml で空っぽのオブジェクトを定義する</h2>

<pre><code class="javascript">Item {
    property var badSyntax:   {}   // ng, empty block statement
    property var emptyObject: ({}) // ok
}
</code></pre>

<p>その他の JavaScript 標準な型のプロパティを定義</p>

<pre><code class="javascript">Item {
    property var aNumber: 100
    property var aBool: false
    property var aString: "Hello world!"
    property var anotherString: String("#FF008800")
    property var aColor: Qt.rgba(0.2, 0.3, 0.4, 0.5)
    property var aRect: Qt.rect(10, 10, 10, 10)
    property var aPoint: Qt.point(10, 10)
    property var aSize: Qt.size(10, 10)
    property var aVector3d: Qt.vector3d(100, 100, 100)
    property var anArray: [1, 2, 3, "four", "five", (function() { return "six"; })]
    property var anObject: { "foo": 10, "bar": 20 }
    property var aFunction: (function() { return "one"; })
}
</code></pre>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="https://stackoverflow.com/questions/32969414/populate-gridlayout-with-repeater">qt - Populate GridLayout with Repeater - Stack Overflow</a></li>
<li><a href="http://relog.xii.jp/mt5r/2011/10/qmlqt-9.html">QML(Qt)アプリ全体で使いたいグローバルな設定値の扱い方 - 理ろぐ</a></li>
<li><a href="http://doc.qt.io/qt-5/qml-var.html#property-value-initialization-semantics">var QML Basic Type | Qt QML 5.11</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[名古屋Qt勉強会#18 に参加しました]]></title>
            <link href="http://www.sharkpp.net/blog/2018/07/21/qt-nagoya-18.html"/>
            <updated>2018-07-21T17:35:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/07/21/qt-nagoya-18.html</id>
            <content type="html"><![CDATA[<p>7月21日(土) に開催された <a href="https://qt-users.connpass.com/event/94197/">Qt 勉強会 @ Nagoya #18 - connpass</a> に参加しました。</p>

<p>そのまとめなどです。</p>

<p><img src="/images/20180721_qauthwith1.png" alt="成果" /></p>

<h2 id="qt-quick-%E3%81%A7%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C">Qt Quick での文字列の多言語対応</h2>

<p><code>qsTr()</code> で囲う。</p>

<h2 id="toolbutton">ToolButton</h2>

<p>ToolButton タイプで利用できる各種プロパティが QtQuick.Controls 1.x と QtQuick.Controls 2.x とで全然違うのでメモ</p>

<table>
<thead>
<tr>
  <th>version</th>
  <th>QtQuick.Controls 1.x</th>
  <th>QtQuick.Controls 2.x</th>
</tr>
</thead>
<tbody>
<tr>
  <td>派生</td>
  <td><a href="http://doc.qt.io/qt-5/qml-qtquick-controls-button.html">Button</a></td>
  <td><a href="http://doc.qt.io/qt-5/qml-qtquick-controls2-abstractbutton.html">AbstractButton</a></td>
</tr>
<tr>
  <td>アイコン</td>
  <td><code>iconName</code> プロパティ</td>
  <td><code>icon.name</code> プロパティ</td>
</tr>
<tr>
  <td>ツールチップ</td>
  <td><code>tooltip</code> プロパティ</td>
  <td><a href="https://doc.qt.io/Qt-5/qml-qtquick-controls2-tooltip.html#attached-tool-tips">ToolTip QML Type</a></td>
</tr>
<tr>
  <td>&nbsp;&nbsp;要素押下時に表示</td>
  <td>不明</td>
  <td><code>ToolTip.visible: down</code></td>
</tr>
<tr>
  <td>&nbsp;&nbsp;要素クリック時に表示</td>
  <td>不明</td>
  <td><code>ToolTip.visible: pressed</code></td>
</tr>
<tr>
  <td>&nbsp;&nbsp;要素ホバー時に表示</td>
  <td>不明</td>
  <td><code>ToolTip.visible: hovered</code></td>
</tr>
</tbody>
</table>

<h2 id="qml-%E3%81%A7%E5%8F%82%E7%85%A7%E3%81%AE%E3%81%BF%E5%8F%AF%E8%83%BD%E3%81%AA%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A0%E3%81%91%E7%B0%A1%E7%B4%A0%E3%81%AB%E5%AE%9A%E7%BE%A9">QML で参照のみ可能なプロパティをできるだけ簡素に定義</h2>

<pre><code class="cpp">  Q_PROPERTY(QString hoge MEMBER m_hoge CONSTANT)
</code></pre>

<p>new するときとか、C++側からのみアクセスできる setter で値は代入する。</p>

<h2 id="qml-%E3%81%A7%E5%AE%9F%E8%A1%8C%E5%8F%AF%E8%83%BD%E3%81%AA%E9%96%A2%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9">QML で実行可能な関数を定義</h2>

<pre><code class="cpp">  Q_INVOKABLE inline int hoge() {
      return 10;
  }
</code></pre>

<h2 id="%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0">トラブルシューティング</h2>

<h3 id="invalid-import-qualifier-id">Invalid import qualifier ID</h3>

<blockquote>
  <p>Invalid import qualifier ID
  (訳: インポート修飾識別子が無効)</p>
</blockquote>

<p>エリアスの頭は大文字でないとダメらしい。</p>

<pre><code class="diff">- import "xxx" as my
+ import "xxx" as My
</code></pre>

<h3 id="depends-on-non-notifyable-properties%3A-xxxxx%3Ayyyyy">depends on non-NOTIFYable properties: XXXXX:YYYYY</h3>

<blockquote>
  <p>depends on non-NOTIFYable properties: XXXXX:YYYYY
  (訳: 通知できないプロパティに依存)</p>
</blockquote>

<p>読み取り専用の場合は <code>CONSTANT</code> をつければ良い。</p>

<pre><code class="diff">           :
-     Q_PROPERTY(QString title MEMBER m_title)
+     Q_PROPERTY(QString title MEMBER m_title CONSTANT)
           :
</code></pre>

<h3 id="type-xxxx-unavailable">Type XXXX unavailable</h3>

<blockquote>
  <p>Type XXXX unavailable
  (訳: タイプ XXXX は利用できません)</p>
</blockquote>

<p>XXXX をちゃんと定義しているはずなのに出る場合は、 XXXX の中でエラーになってるかも？
その場合は、該当ファイルを対象としたエラーが出ている。</p>

<h3 id="qt-creator-%E4%B8%8A%E3%81%A7%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC%E6%B3%A8%E9%87%88%E8%A1%A8%E7%A4%BA">Qt Creator 上でのエラー注釈表示</h3>

<p>QtQuick.Controls 2 を利用しているのに QtQuick.Controls 1 のエラーが表示される</p>

<p><img src="/images/20180721_qtcreator_annotation.png" alt="Qt Creator エラー注釈表示" /></p>

<p>どうやら Qt 5.11 を利用すれば大丈夫な様子。</p>

<h2 id="qt-quick-%E3%81%A8-c%2B%2B-%E3%81%A8%E3%81%AE%E3%82%84%E3%82%8A%E3%81%A8%E3%82%8A">Qt Quick と C++ とのやりとり</h2>

<h3 id="%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E7%99%BB%E9%8C%B2">カスタムタイプの登録</h3>

<p>※ <code>HogeType</code> クラスは <code>QObjct</code> から派生</p>

<pre><code>              :
    qmlRegisterType&lt;HogeType&gt;("net.example.foo", 1, 0, "HogeType");
    QQmlApplicationEngine engine;
              :
</code></pre>

<p>qml では次のように利用</p>

<pre><code>import net.example.foo 1.0
            :
ApplicationWindow {
            :
    HogeType {
        id: hoge
    }
            :
}
</code></pre>

<h3 id="%E3%82%B3%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AB%E7%99%BB%E9%8C%B2">コンテキストに登録</h3>

<p>※ <code>AppData</code> クラスは <code>QObjct</code> から派生</p>

<pre><code>            :
    AppData data;
    QQmlApplicationEngine engine;
    engine.rootContext()-&gt;setContextProperty("appData", &amp;data);
            :
</code></pre>

<p>qml では次のように利用</p>

<pre><code>            :
Window {
            :
    Text {
        text: appData.getTextFromCpp()
            :
    }
}
</code></pre>

<h2 id="%E6%87%87%E8%A6%AA%E4%BC%9A">懇親会</h2>

<p>もぐもぐ♪</p>

<p><img src="/images/20180721_mogmog.jpg" alt="もぐもぐ" /></p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://doc.qt.io/qt-5/qml-qtquick-controls-button.html">Button QML Type | Qt Quick Controls 5.11</a></li>
<li><a href="https://doc.qt.io/Qt-5/qml-qtquick-controls2-abstractbutton.html">AbstractButton QML Type | Qt Quick Controls 2 5.11</a></li>
<li><a href="http://forum.jollausers.com/sailfish-developers/import-js-file-invalid-import-qualifier-id/">[Solved] import js file - Invalid import qualifier ID - Sailfish Developers - Jolla &amp; Sailfish OS Forum</a></li>
<li><a href="http://doc.qt.io/qt-5/qtqml-cppintegration-topic.html">Integrating QML and C++ | Qt QML 5.11</a></li>
<li><a href="https://qiita.com/DAR/items/400a1725ddedcaa6ef0e">QMLとC++のバインディング - Qiita</a></li>
<li><a href="http://tips.hecomi.com/entry/20130503/1367594609">Qt Quick での C++ × QML バインディングについてまとめてみた - 凹みTips</a></li>
<li><a href="https://stackoverflow.com/questions/6728615/warning-about-non-notifyable-properties-in-qml">qt - Warning about non-NOTIFYable properties in QML - Stack Overflow</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[名古屋Qt勉強会#16 に参加しました]]></title>
            <link href="http://www.sharkpp.net/blog/2018/05/26/qt-nagoya-16.html"/>
            <updated>2018-05-26T23:26:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2018/05/26/qt-nagoya-16.html</id>
            <content type="html"><![CDATA[<p>5月26日(土) に開催された <a href="https://qt-users.connpass.com/event/88524/">Qt 勉強会 @ Nagoya #16 - connpass</a> に参加しました。</p>

<p>そのまとめ。</p>

<p><img src="/images/20180526_qauthwith2.png" alt="開発中" /></p>

<h2 id="%E4%BC%9A%E5%A0%B4%E5%88%B0%E7%9D%80%E3%81%BE%E3%81%A7">会場到着まで</h2>

<p>前回は、ちょっと迷ってしまったけど、さすがに２回目ともなれば迷うこともなく到着。
電車の時間を少しミスったために、今回もギリギリ（汗</p>

<h2 id="%E8%87%AA%E5%B7%B1%E7%B4%B9%E4%BB%8B">自己紹介</h2>

<p>みんなで自己紹介</p>

<p>今回は２名のご新規さんが参加されました。</p>

<p>東京組２名は少し遅れて到着（やはり迷った様子</p>

<h2 id="%E4%BB%8A%E5%9B%9E%E3%81%AE%E3%81%8A%E8%8F%93%E5%AD%90">今回のお菓子</h2>

<p>今回は、東京からの参加者の <a href="https://twitter.com/hermit4">@hermit4</a> さんが、美味しそうなお菓子を持ち込み。
クッキーなどと合わせてなかなかの量になりました。</p>

<h2 id="%E3%82%82%E3%81%8F%E3%82%82%E3%81%8F">もくもく</h2>

<p>前回の続きをもくもく。</p>

<p>本日は、Qt Quick をサンプルを見ながらUIの作り込み。</p>

<p><img src="/images/20180526_qauthwith1.png" alt="開発中" /></p>

<p>こんな感じに Swagger UI 風の UI を Qt Quick で作ることにした。</p>

<p><img src="/images/20180526_qauthwith2.png" alt="開発中" /></p>

<p>一部、どうしてもわからないことを <a href="https://twitter.com/IoriAYANE">@IoriAYANE</a> さんに聞きつつ、なんとかここまで出来た。</p>

<p>さてはて、中身の実装をどうしようかな？というところで時間切れ。</p>

<h2 id="%E6%87%87%E8%A6%AA%E4%BC%9A">懇親会</h2>

<p>今回は、前回行った串カツ屋さんは入れず。
少し歩いた先の串焼き屋さんで懇親会。</p>

<p><img src="/images/20180526_kushiyaki.jpg" alt="テング酒場で懇親会" /></p>

<h2 id="%E6%9C%80%E5%BE%8C%E3%81%AB">最後に</h2>

<p>久しぶりに集中して趣味プロしたけど、やはりいいものだ。
年々、趣味に割ける時間が減っているけど、なんとか継続して行きたい。</p>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://doc.qt.io/qt-5/qtquickcontrols-index.html">Qt Quick Controls 5.11</a></li>
<li><a href="https://doc.qt.io/archives/qt-5.7/qtquickcontrols2-customize.html">Customizing Qt Quick Controls 2 | Qt Quick Controls 2 5.7</a></li>
<li><a href="http://blog.qt.io/jp/2011/03/10/qml-drawing-2/">Qt Quick 入門 第8回: QML の描画処理 - Qt Japanese Blog</a></li>
</ul>
]]></content>
        </entry>
    </feed>