<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[さめたすたすのお家]]></title>
    <link href="http://www.sharkpp.net/blog/tags/Inkscape.xml" rel="self"/>
    <link href="http://www.sharkpp.net/"/>
    <updated>2018-05-17T16:14:05+00:00</updated>
    <id>http://www.sharkpp.net/</id>
            <author>
            <name><![CDATA[sharkpp]]></name>                    </author>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[macOS 上に Homebrew を利用して Inkscape をインストールする]]></title>
            <link href="http://www.sharkpp.net/blog/2017/04/30/Install-inkscape-using-homebrew-on-macos.html"/>
            <updated>2017-04-30T23:30:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2017/04/30/Install-inkscape-using-homebrew-on-macos.html</id>
            <content type="html"><![CDATA[<p>開発中のアプリのアイコンを作成するために <a href="https://inkscape.org/ja/">Inkscape</a> が必要だったのですが、先日に Inkscape と <a href="https://www.xquartz.org/">XQuartz</a> をアップデートしてから何が悪いのか起動しなくて難儀していたところで、解決方法を見つけたのでその方法の記録です。</p>

<p><img src="/thumbs/632bbe45529a94416b0f7e519f24e6bf-384x384.png" alt="Inkscape 0.92.1 version"></p>

<h2 id="%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">はじめに</h2>

<p>解決方法ですが、実は公式のダウンロードページにしれっと書いてあったんですよね。</p>

<blockquote>
  <p><a href="https://inkscape.org/ja/download/mac-os/">Mac OS 版 | Inkscape</a></p>
  
  <p>For users who cannot wait to try out the new features and have some technical experience, alternative installation methods are available.</p>
  
  <p>(意訳：腕に覚えがあるなら新しいバージョンをインストールする別の方法があるけどどうする？)</p>
</blockquote>

<p>この記事を書いている時点(2017/04/30)では、どうやら最新バージョンの 0.92 系は .dmg が提供されていないので、ある意味、渡りに船かもと言うところも。</p>

<p>その方法 <a href="https://inkscape.org/ja/download/mac-os/#alternative_install_0.92">alternative installation methods</a> を確認すると、macOS の２大パッケージマネージャーの <a href="https://www.macports.org/">MacPorts</a> と <a href="https://brew.sh/">Homebrew</a> でのインストール方法が書いてあります。</p>

<p>自分の環境は、Homebrew なので、そちらでのビルドとインストールを試してみました。</p>

<p>ビルド時間などは、こんな感じ。</p>

<table>
<thead>
<tr>
  <th>パッケージ</th>
  <th>バージョン</th>
  <th align="right">ファイル数</th>
  <th align="right">サイズ</th>
  <th align="right">ビルド時間</th>
</tr>
</thead>
<tbody>
<tr>
  <td>openssl</td>
  <td>1.0.2k</td>
  <td align="right">1696</td>
  <td align="right">17.5MB</td>
  <td align="right">00:15:56</td>
</tr>
<tr>
  <td>python</td>
  <td>2.7.13</td>
  <td align="right">6337</td>
  <td align="right">86.7MB</td>
  <td align="right">00:04:03</td>
</tr>
<tr>
  <td>inkscape</td>
  <td>0.92.1</td>
  <td align="right">1019</td>
  <td align="right">128.3MB</td>
  <td align="right">00:27:50</td>
</tr>
</tbody>
</table>

<p>ちなみに、どうやらこの方法だとネイティブ版がビルドされるらしく日本語入力やシステムにインストールされているフォントが使えたりとか、嬉しい変化があったりもします。</p>

<h2 id="%E6%BA%96%E5%82%99">準備</h2>

<p>インストール前の準備として、Homebrew の環境を整えておきます。</p>

<p>まれに、パッケージのバージョンが上がっていたりするので、アップデートしておきます。</p>

<pre><code class="bash">$ brew update
</code></pre>

<p>また、以前に Homebrew で Inkscape をインストールしたことがある場合は、どうやらあらかじめアンインストールが必要のようです。</p>

<pre><code class="bash">$ brew uninstall inkscape
$ brew cleanup
</code></pre>

<h2 id="%E3%83%93%E3%83%AB%E3%83%89%EF%BC%86%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">ビルド＆インストール</h2>

<p>実際のところ、ビルド自体はコマンド一行で終わります。</p>

<pre><code class="bash">$ brew install caskformula/caskformula/inkscape
</code></pre>

<p>ビルドとインストールが</p>

<pre><code>$ brew install caskformula/caskformula/inkscape
==&gt; Tapping caskformula/caskformula
Cloning into '/usr/local/Homebrew/Library/Taps/caskformula/homebrew-caskformula'...
remote: Counting objects: 5, done.
           :
==&gt; make
==&gt; make install
🍺 /usr/local/Cellar/inkscape/0.92.1: 1,019 files, 128.3MB, built in 27 minutes 50 seconds
</code></pre>

<p>とこのような感じで終了したら、おもむろに</p>

<pre><code class="bash">$ inkscape
</code></pre>

<p>と入力します。
何もなければ Inkscape を起動できます。</p>

<p>インストール先の <code>/usr/local/Cellar/inkscape/0.92.1</code> は後で利用するので覚えておきます。</p>

<p>インストールした Inkscape のバージョンはこんな感じ。</p>

<p><a href="/images/2017_0430_inkscape_version.png"><img src="/thumbs/632bbe45529a94416b0f7e519f24e6bf-384x384.png" alt="Inkscape 0.92.1 version"></a></p>

<p>お疲れ様でした、と言いたいところですが、残念ながらこの状態では Launchpad に登録されていないので、もう一手間かける必要があります。</p>

<p>実は、</p>

<pre><code class="bash">$ brew cask install inkscape
</code></pre>

<p>でインストールすると、 .app がインストールされるようですが、現時点(2017/04/30)ではバージョンが 0.91-1 で、XQuartz 版で、実は裏で公式のパッケージをインストールしているだけなので日本語やフォントなどの制限があります。</p>

<h2 id="launchpad-%E3%81%B8%E3%81%AE%E7%99%BB%E9%8C%B2">Launchpad への登録</h2>

<p>以前は</p>

<pre><code class="bash">$ brew linkapps inkscape
</code></pre>

<p>みたいにすれば、できていたらしいけど、</p>

<blockquote>
  <p>Warning: <code>brew linkapps</code> has been deprecated and will eventually be removed!</p>
  
  <p>(訳：<code>brew linkapps</code>は廃止され、最終的に削除されます！)</p>
</blockquote>

<p>と怒られるので、別の方法をとります。</p>

<p>Inksacpe のインストール先は、先のビルド時のログに出てくる、<code>/usr/local/Cellar/inkscape/0.92.1</code> なので、<code>/bin/inkscape</code> を追加して、<code>"/usr/local/Cellar/inkscape/0.92.1/bin/inkscape"</code> が実態となります。</p>

<p>記録し忘れていたら、</p>

<pre><code class="bash">$ realpath $(which inkscape)
/usr/local/Cellar/inkscape/0.92.1/bin/inkscape
</code></pre>

<p>で確認できます。</p>

<p>スクリプトエディタで</p>

<pre><code class="AppleScript">tell application "/usr/local/Cellar/inkscape/0.92.1/bin/inkscape"
    activate
end tell
</code></pre>

<p>と入力して、</p>

<ol>
<li>「ファイル」メニュー</li>
<li>「書き出す...」</li>
<li>書き出し名＝「Inkscape」</li>
<li>ファイルフォーマット＝「アプリケーション」 ※ここが重要</li>
<li>「保存」を押下</li>
</ol>

<p><img src="/images/2017_0430_as2app.png" /></p>

<p>で、Inkscapeのランチャーアプリケーションを作成します。</p>

<p>書き出したアプリケーションを「アプリケーション」フォルダに入れれば完了です。</p>

<p>アプリケーションのアイコンはスクリプトファイルのアイコンがそのまま使われています。</p>

<p>「パッケージの内容を表示」で .app の中に潜ると</p>

<p><img src="/images/2017_0430_app_package_contents.png" /></p>

<p>のような感じになっているので、</p>

<p>るので、気になるようであれば、公式インストーラの .app から <code>Contents/Resources/inkscape.icns</code> を取り出し、 <code>Contents/Resources/applet.icns</code> を置き換えてあげれば</p>

<p><img src="/images/2017_0430_launcher_app_in_launchpad.png" /></p>

<p>こんな感じで Launchpad に表示されていると思います。</p>

<h2 id="%E3%81%BE%E3%81%A8%E3%82%81">まとめ</h2>

<ul>
<li>現状は 0.92.x に公式パッケージ(.dmg ファイル)は存在しない</li>
<li>Macports か Homebrew 経由で Inkscape の 0.92.x のネイティブ版(非XQuartz版)をビルド＆インストール可能</li>
<li>AppleScript でランチャーアプリを作れば Launchpad にも登録可能</li>
</ul>

<h2 id="%E5%8F%82%E8%80%83">参考</h2>

<ul>
<li><a href="http://a244.hateblo.jp/entry/2016/12/10/215848">MacPorts と開発版 Inkscape (0.92pre3) - ながいものには、まかれたくない</a></li>
<li><a href="https://inkscape.org/ja/download/mac-os/#alternative_install_0.92">Mac OS 版 | Inkscape</a></li>
<li><a href="http://qiita.com/nkimra/items/e30b5d120a6cae7ded8d">AppleScriptでアプリケーションの操作 - Qiita</a></li>
<li><a href="https://apple.stackexchange.com/questions/8299/how-do-i-make-an-applescript-file-into-a-mac-app">How do I make an AppleScript file into a Mac App? - Ask Different</a></li>
</ul>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[新たなマスコット爆誕とfaviconの更新]]></title>
            <link href="http://www.sharkpp.net/blog/2015/06/07/revelation-new-mascot-and-update-favicon.html"/>
            <updated>2015-06-07T20:45:00+00:00</updated>
            <id>http://www.sharkpp.net/blog/2015/06/07/revelation-new-mascot-and-update-favicon.html</id>
            <content type="html"><![CDATA[<p>favicon 関係が <a href="https://sculpin.io/mascot/">Jackson</a> のままだったのは <a href="https://sculpin.io/">Sculpin</a> のブログスケルトンをベースに変更していったのが原因な訳で。</p>

<p>置き換えようにも置き換えるための画像が無くてそのままにしていたのだけど、 Inkscape でごにょごにょしてそれらしいのをでっち上げました。</p>

<h2 id="%E6%96%B0%E3%81%97%E3%81%84-favicon-%E3%81%AE%E5%AD%90">新しい favicon の子</h2>

<p>新しい favicon の子です。</p>

<p>ホオジロザメをイメージしてみたのだけれども今イチそうは見えない謎生物が爆誕しました。</p>

<p><a href="/images/noname/1024x1024.png"><img src="/images/noname/128x128.png" alt="favicon" /></a></p>

<p>SVG は つ <a href="/images/noname/favicon.svg">favicon.svg</a></p>

<p>ライセンスは CC BY 4.0 でお願いします。</p>
]]></content>
        </entry>
    </feed>